<!doctype html>
<html lang="en" id="top-of-site" class="js">

<head>
<title>Cascade Layers Guide | CSS-Tricks</title>

  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width">

  
  


  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#ff7a18">

  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="CSS-Tricks Search">

  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="https://css-tricks.com/feed/">

  <link rel="preconnect" href="https://s3.buysellads.com">
  <link rel="dns-prefetch" href="https://s3.buysellads.com">
  <link rel="preconnect" href="https://srv.buysellads.com">
  <link rel="dns-prefetch" href="https://srv.buysellads.com">
  <link rel="preconnect" href="https://static.codepen.io">
  <link rel="dns-prefetch" href="https://static.codepen.io">

  
  	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	
<!-- Search Engine Optimization by Rank Math - https://rankmath.com/ -->
<meta name="description" content="This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity."/>
<meta name="robots" content="follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large"/>
<link rel="canonical" href="https://css-tricks.com/css-cascade-layers/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Cascade Layers Guide | CSS-Tricks" />
<meta property="og:description" content="This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity." />
<meta property="og:url" content="https://css-tricks.com/css-cascade-layers/" />
<meta property="og:site_name" content="CSS-Tricks" />
<meta property="article:publisher" content="https://www.facebook.com/CSSTricks" />
<meta property="article:tag" content="cascade layers" />
<meta property="article:section" content="Guides" />
<meta property="og:updated_time" content="2024-10-17T12:35:09-06:00" />
<meta property="og:image" content="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png" />
<meta property="og:image:secure_url" content="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="600" />
<meta property="og:image:alt" content="css cascade layers" />
<meta property="og:image:type" content="image/png" />
<meta property="article:published_time" content="2022-02-21T07:40:35-07:00" />
<meta property="article:modified_time" content="2024-10-17T12:35:09-06:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Cascade Layers Guide | CSS-Tricks" />
<meta name="twitter:description" content="This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity." />
<meta name="twitter:site" content="@CSS" />
<meta name="twitter:creator" content="@TerribleMia" />
<meta name="twitter:image" content="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png" />
<meta name="twitter:label1" content="Written by" />
<meta name="twitter:data1" content="Miriam Suzanne" />
<meta name="twitter:label2" content="Time to read" />
<meta name="twitter:data2" content="34 minutes" />
<script data-jetpack-boost="ignore" type="application/ld+json" class="rank-math-schema">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"https://css-tricks.com/#person","name":"CSS-Tricks","sameAs":["https://www.facebook.com/CSSTricks","https://twitter.com/CSS"]},{"@type":"WebSite","@id":"https://css-tricks.com/#website","url":"https://css-tricks.com","name":"CSS-Tricks","publisher":{"@id":"https://css-tricks.com/#person"},"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png?fit=1200%2C600&amp;ssl=1","url":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png?fit=1200%2C600&amp;ssl=1","width":"1200","height":"600","inLanguage":"en-US"},{"@type":"WebPage","@id":"https://css-tricks.com/css-cascade-layers/#webpage","url":"https://css-tricks.com/css-cascade-layers/","name":"Cascade Layers Guide | CSS-Tricks","datePublished":"2022-02-21T07:40:35-07:00","dateModified":"2024-10-17T12:35:09-06:00","isPartOf":{"@id":"https://css-tricks.com/#website"},"primaryImageOfPage":{"@id":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png?fit=1200%2C600&amp;ssl=1"},"inLanguage":"en-US"},{"@type":"Person","@id":"https://css-tricks.com/author/miriam/","name":"Miriam Suzanne","description":"Founder of OddBird, enthusiast for modern CSS, Sass core team, and CSSWG Invited Expert.","url":"https://css-tricks.com/author/miriam/","image":{"@type":"ImageObject","@id":"https://secure.gravatar.com/avatar/ae0467bce26cf281ae92243a6000639eb4efaed23b953798bf4bdf7cdb1f3778?s=96&amp;d=retro&amp;r=pg","url":"https://secure.gravatar.com/avatar/ae0467bce26cf281ae92243a6000639eb4efaed23b953798bf4bdf7cdb1f3778?s=96&amp;d=retro&amp;r=pg","caption":"Miriam Suzanne","inLanguage":"en-US"},"sameAs":["http://oddbird.net","https://twitter.com/TerribleMia"]},{"@type":"BlogPosting","headline":"Cascade Layers Guide | CSS-Tricks","keywords":"css cascade layers,cascade layers,@layers","datePublished":"2022-02-21T07:40:35-07:00","dateModified":"2024-10-17T12:35:09-06:00","author":{"@id":"https://css-tricks.com/author/miriam/","name":"Miriam Suzanne"},"publisher":{"@id":"https://css-tricks.com/#person"},"description":"This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity.","name":"Cascade Layers Guide | CSS-Tricks","@id":"https://css-tricks.com/css-cascade-layers/#richSnippet","isPartOf":{"@id":"https://css-tricks.com/css-cascade-layers/#webpage"},"image":{"@id":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png?fit=1200%2C600&amp;ssl=1"},"inLanguage":"en-US","mainEntityOfPage":{"@id":"https://css-tricks.com/css-cascade-layers/#webpage"}}]}</script>
<!-- /Rank Math WordPress SEO plugin -->

<link rel='dns-prefetch' href='//stats.wp.com' />
<link rel='preconnect' href='//i0.wp.com' />
<link rel='preconnect' href='//c0.wp.com' />
<link rel="alternate" type="application/rss+xml" title="CSS-Tricks &raquo; Cascade Layers Guide Comments Feed" href="https://css-tricks.com/css-cascade-layers/feed/" />
<style id='classic-theme-styles-inline-css' type='text/css'>
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id='acf-post-slider-style-inline-css' type='text/css'>
.post-slider {
  box-sizing: content-box;
  display: flex;
  margin: 0 0 var(--gap) 0;
  padding: 0 1rem 1rem;
  position: relative;

  @media (min-width: 1200px) {
    &::after {
      content: "";
      position: absolute;
      right: 0;
      top: 0;
      bottom: 3.6rem;
      width: 5px;
      height: 100%;
      border-radius: 5px;
      box-shadow: -10px 0 20px 3px #000;
      background: linear-gradient(
        130deg,
        #ff7a18 0%,
        #af002d 41.07%,
        #319197 76.05%
      );
    }
    body.home & {
      background: none;
    }
  }

  @media (max-width: 1200px) {
    scrollbar-color: #666 #201c29;
    
    &::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }
    &::-webkit-scrollbar-thumb {
      background: #434343;
      border-radius: 10px;
      box-shadow:
        inset 2px 2px 2px rgba(255, 255, 255, 0.25),
        inset -2px -2px 2px rgba(0, 0, 0, 0.25);
    }
    &::-webkit-scrollbar-track {
      background: linear-gradient(
        to right,
        #434343,
        #434343 1px,
        #262626 1px,
        #262626
      );
    }

    padding-bottom: var(--gap);
    padding-left: 5px;
    overflow-x: scroll;
    -webkit-overflow-scrolling: touch;
    scroll-snap-points-x: repeat(250px);
    scroll-snap-type: x mandatory;
    -webkit-scroll-snap-type: x mandatory;

    .mini-card {
      scroll-snap-align: start;
    }
  }
}

.post-slider-header {
  color: #fff;
  margin-top: 2rem;
  flex: 0 0 250px;
  margin-right: 1rem;
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 1.5rem;

  @media (max-width: 1200px) {
    scroll-snap-align: start;
    scroll-margin-inline-start: 5px;
  }

  p {
    font-size: var(--font-size-body);
    margin: 0;
  }

  a {
    text-decoration: none;
  }

  &::before {
    --offset: 5px;

    content: "";
    background: linear-gradient(
      130deg,
      #ff7a18 0%,
      #af002d 41.07%,
      #319197 76.05%
    );

    position: absolute;
    top: calc(var(--offset) * -1);
    left: calc(var(--offset) * -1);
    width: calc(100% + 10px);
    height: calc(100% + 10px);
    z-index: 1;
    border-radius: 12px;
  }

  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: calc(100%);
    height: calc(100%);
    background: #000;
    z-index: 2;
    border-radius: 8px;
  }

  transform: translateY(-10px);

  > * {
    color: inherit;
    position: relative;
    z-index: 3;
  }

  @media (max-width: 800px) {
    flex: 0 0 175px;
  }
}

.mini-card-grid {
  display: flex;
  gap: 1rem;
  margin: 0 0 1.5rem 0;
  position: relative;
  scrollbar-gutter: always;
  padding: 3rem 0 3rem 2rem;
  margin: 0;
  overflow-x: scroll;
  -webkit-overflow-scrolling: touch;
  scrollbar-color: #666666 #201c29;

  &::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  &::-webkit-scrollbar-thumb {
    background: #434343;
    border-radius: 10px;
    box-shadow: inset 2px 2px 2px rgba(255, 255, 255, 0.25),
      inset -2px -2px 2px rgba(0, 0, 0, 0.25);
  }
  
  &::-webkit-scrollbar-track {
    background: linear-gradient(
      to right,
      #434343,
      #434343 1px,
      #262626 1px,
      #262626
    );
  }

  @media (max-width: 1200px) {
    overflow-x: visible;
  }
}

.mini-card {
  padding: 1.5rem;
  border-radius: 16px;
  background: linear-gradient(85deg, #434343, #262626);
  color: #fff;
  display: flex;
  flex-direction: column;
  transition: 0.2s;
  margin: 0;
  min-width: 300px;
  min-height: 350px;
  box-shadow: -2rem 0 3rem -2rem black;

  a {
    text-decoration: none;
  }
  h3 a {
    color: white !important;
  }
  h3 .aal_anchor {
    display: none;
  }

  .tags {
    margin: 0 0 0.5rem 0;
  }

  .author-name {
    color: #fff;
  }

  time {
    display: block;
    margin: 0 0 0.25rem 0;
    color: #777;
    strong {
      color: #d4d4d4;
    }
  }
  &:hover,
  &:focus-within {
    transform: translate(0, -1rem) rotate(3deg);
    & ~ .mini-card {
      transform: translateX(130px);
    }
  }
  &:first-child {
    &:hover,
    &:focus-within {
      /* Cover clickable area on the left edge of first card */
      transform: translate(-0.5rem, -1rem) rotate(3deg);
    }
  }
  &:not(:first-child) {
    margin-left: -130px;
    box-shadow: -3rem 0 3rem -2rem black;
  }
  @media (max-width: 1200px) {
    min-width: 220px;
    &:not(:first-child) {
      margin-left: -30px;
    }
    &:hover {
      transform: translate(0, -1rem);
      & ~ .mini-card {
        transform: translateX(30px);
      }
    }
  }
  @media (max-width: 800px) {
    min-width: 190px;
    &:not(:first-child) {
      margin-left: -10px;
    }
    &:hover {
      transform: translate(0, -1rem);
      & ~ .mini-card {
        transform: translateX(10px);
      }
    }
  }
}

.mini-card-title {
  font-size: 1.3rem;
  margin: 0 0 1rem 0;
}
</style>
<style id='acf-footnotes-style-inline-css' type='text/css'>
.footnotes-list {
  background-color: var(--light-orange);
  border-radius: 6px;
  padding: calc(var(--gap) / 2);

  h3 {
    text-transform: uppercase;
    color: var(--gray-9);
    font-size: 1rem;
    letter-spacing: 0.15rem;
    display: block;
    margin: 0.5rem 0;
  }

  .aal_anchor {
    opacity: 1;

    &:hover,
    &:focus {
      cursor: pointer;
      opacity: .33;
    }
  }

  ol {
    list-style-type: none;
  }

  li {
    font-size: 1rem;
  }

  p {
    /* Needed to appease ACF WYSIWYG field without esc_html() */
    display: inline-block;
  }

  sup {
    color: var(--orange);
    display: inline-block;
    font-weight: 900;
    margin-inline-end: 0.25rem;
  }
}
</style>
<style id='css-tricks-baseline-status-style-inline-css' type='text/css'>
/*!***************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[4].use[2]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[4].use[3]!./src/style.scss ***!
  \***************************************************************************************************************************************************************************************************************************************/
/**
 * The following styles get applied both on the front of your site
 * and in the editor.
 *
 * Replace them with your own styles or remove the file completely.
 */
baseline-status {
  --color-text: #fff;
  --color-outline: var(--orange);
  background: #000;
  border: solid 5px var(--color-outline);
  border-radius: 8px;
  color: var(--color-text);
  display: block;
  margin-block-end: var(--gap);
  padding: calc(var(--gap) / 4);
}
@media (prefers-color-scheme: dark) {
  baseline-status {
    --color-text: #fff;
    --color-link: var(--orange);
  }
}

/*# sourceMappingURL=style-index.css.map*/
</style>
<style id='css-tricks-feedbin-starred-feed-style-inline-css' type='text/css'>
.wp-block-css-tricks-feedbin-starred-feed{container:feedbin/inline-size;display:grid;gap:0}.wp-block-css-tricks-feedbin-starred-feed .article-grid{gap:0;grid-template-columns:1fr}.wp-block-css-tricks-feedbin-starred-feed .starred-item{margin-block-end:1rem}.wp-block-css-tricks-feedbin-starred-feed .starred-item :is(h3,#specificity){font-family:Blanco,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,system-serif;font-size:1.35rem;line-height:1.35;margin-block:calc(var(--gap)/4);margin-top:0;padding-block-end:calc(var(--gap)/4)}.wp-block-css-tricks-feedbin-starred-feed .starred-item :is(h3,#specificity) a{color:var(--blue)!important}.wp-block-css-tricks-feedbin-starred-feed .starred-item :is(h3,#specificity) a:is(:hover,:focus,#specificity){-webkit-text-decoration:1px solid var(--blue);text-decoration:1px solid var(--blue)}.wp-block-css-tricks-feedbin-starred-feed .starred-item cite{flex:0 1 300px;font-style:oblique}.wp-block-css-tricks-feedbin-starred-feed .starred-item cite,.wp-block-css-tricks-feedbin-starred-feed .starred-item span{line-clamp:1;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap}.starred-item{border-radius:12px;display:grid;gap:1rem;grid-template-columns:1fr}@container feedbin (width >= 600px){.starred-item{grid-template-columns:40% 60%}}.starred-item .article-article{background-color:#262626;background-image:radial-gradient(50% 50% at top center,rgba(0,0,0,.66),#262626),linear-gradient(180deg,#000,#262626);background-position:top 0 center;background-repeat:no-repeat;background-size:120% 2000px,100% 2000px;border-radius:12px 0 0 12px;color:#fff;gap:1rem;padding:1.5rem}.starred-item .article-article h2 a{color:#fff}.starred-item .article-article span:has(strong){font-size:1rem}.starred-item .article-summary{padding:var(--gap)}.starred-item .article-summary :is(h2,h3,h4){color:#262626}.starred-item .article-summary p{margin-block-end:calc(var(--gap)/4)}.starred-item .article-summary figure,.starred-item .article-summary hr{display:none}@container article-grid (width <= 600px){.starred-item .article-summary{display:none}}@keyframes shadow-reveal{0%{opacity:0}to{opacity:1}}

</style>
<link rel='stylesheet' id='mediaelement-css' href='https://c0.wp.com/c/6.8.1/wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-mediaelement-css' href='https://c0.wp.com/c/6.8.1/wp-includes/js/mediaelement/wp-mediaelement.min.css' type='text/css' media='all' />
<style id='jetpack-sharing-buttons-style-inline-css' type='text/css'>
.jetpack-sharing-buttons__services-list{display:flex;flex-direction:row;flex-wrap:wrap;gap:0;list-style-type:none;margin:5px;padding:0}.jetpack-sharing-buttons__services-list.has-small-icon-size{font-size:12px}.jetpack-sharing-buttons__services-list.has-normal-icon-size{font-size:16px}.jetpack-sharing-buttons__services-list.has-large-icon-size{font-size:24px}.jetpack-sharing-buttons__services-list.has-huge-icon-size{font-size:36px}@media print{.jetpack-sharing-buttons__services-list{display:none!important}}.editor-styles-wrapper .wp-block-jetpack-sharing-buttons{gap:0;padding-inline-start:0}ul.jetpack-sharing-buttons__services-list.has-background{padding:1.25em 2.375em}
</style>
<style id='global-styles-inline-css' type='text/css'>
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel='stylesheet' id='css-tricks-style-css' href='https://css-tricks.com/wp-content/themes/CSS-Tricks-19/style.css?ver=1734019485515' type='text/css' media='all' />
<style id='akismet-widget-style-inline-css' type='text/css'>

			.a-stats {
				--akismet-color-mid-green: #357b49;
				--akismet-color-white: #fff;
				--akismet-color-light-grey: #f6f7f7;

				max-width: 350px;
				width: auto;
			}

			.a-stats * {
				all: unset;
				box-sizing: border-box;
			}

			.a-stats strong {
				font-weight: 600;
			}

			.a-stats a.a-stats__link,
			.a-stats a.a-stats__link:visited,
			.a-stats a.a-stats__link:active {
				background: var(--akismet-color-mid-green);
				border: none;
				box-shadow: none;
				border-radius: 8px;
				color: var(--akismet-color-white);
				cursor: pointer;
				display: block;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen-Sans', 'Ubuntu', 'Cantarell', 'Helvetica Neue', sans-serif;
				font-weight: 500;
				padding: 12px;
				text-align: center;
				text-decoration: none;
				transition: all 0.2s ease;
			}

			/* Extra specificity to deal with TwentyTwentyOne focus style */
			.widget .a-stats a.a-stats__link:focus {
				background: var(--akismet-color-mid-green);
				color: var(--akismet-color-white);
				text-decoration: none;
			}

			.a-stats a.a-stats__link:hover {
				filter: brightness(110%);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06), 0 0 2px rgba(0, 0, 0, 0.16);
			}

			.a-stats .count {
				color: var(--akismet-color-white);
				display: block;
				font-size: 1.5em;
				line-height: 1.4;
				padding: 0 13px;
				white-space: nowrap;
			}
		
</style>




<link rel="https://api.w.org/" href="https://css-tricks.com/wp-json/" /><link rel="alternate" title="JSON" type="application/json" href="https://css-tricks.com/wp-json/wp/v2/posts/363766" /><link rel='shortlink' href='https://css-tricks.com/?p=363766' />
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="https://css-tricks.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcss-tricks.com%2Fcss-cascade-layers%2F" />
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="https://css-tricks.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcss-tricks.com%2Fcss-cascade-layers%2F&#038;format=xml" />
<!-- Better Art Direction Styles -->
<style>
.article-content details {
 background: var(--light-orange);
}
</style>

	<style>img#wpstats{display:none}</style>
		
<style type="text/css" media="all">
.ticss-a8840c73 {
  
}
.ticss-818e5b53 {
  border: 0;
}
.ticss-27d72f02 {
  border-radius: 8px;
  margin-block-end: 1.5rem;
  padding: 1.5rem 2rem .15rem
}
.ticss-7bab32e4 {
  border: 0;
}
.ticss-483f6e6b {
  
}
.ticss-12f7c590 {
}
.ticss-6033748e  {

}

</style>
<link rel="icon" href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=32%2C32&#038;ssl=1" sizes="32x32" />
<link rel="icon" href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=180%2C180&#038;ssl=1" sizes="192x192" />
<link rel="apple-touch-icon" href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=180%2C180&#038;ssl=1" />
<meta name="msapplication-TileImage" content="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=180%2C180&#038;ssl=1" />

</head>

<body class="wp-singular post-template-default single single-post postid-363766 single-format-standard wp-theme-CSS-Tricks-19 jps-theme-CSS-Tricks-19 category-guides">

  <div id="top-of-site-pixel-anchor"></div>

  <header class="site-header" id="site-header">

  <a id="skip-nav" class="skip-nav screen-reader-text" href="#maincontent">Skip to main content</a> 

  <div class="logo">
    <a href="/">
      <div class="screen-reader-text">CSS-Tricks</div>

      <svg class="icon-logo-star" width="35px" height="35px" viewBox="0 0 362.62 388.52" data-spin-me="false">
  <path d="M156.58,239l-88.3,64.75c-10.59,7.06-18.84,11.77-29.43,11.77-21.19,0-38.85-18.84-38.85-40C0,257.83,14.13,244.88,27.08,239l103.6-44.74L27.08,148.34C13,142.46,0,129.51,0,111.85,0,90.66,18.84,73,40,73c10.6,0,17.66,3.53,28.25,11.77l88.3,64.75L144.81,44.74C141.28,20,157.76,0,181.31,0s40,18.84,36.5,43.56L206,149.52l88.3-64.75C304.93,76.53,313.17,73,323.77,73a39.2,39.2,0,0,1,38.85,38.85c0,18.84-12.95,30.61-27.08,36.5L231.93,194.26,335.54,239c14.13,5.88,27.08,18.83,27.08,37.67,0,21.19-18.84,38.85-40,38.85-9.42,0-17.66-4.71-28.26-11.77L206,239l11.77,104.78c3.53,24.72-12.95,44.74-36.5,44.74s-40-18.84-36.5-43.56Z" />
</svg>
            <svg width="322" height="32" viewBox="0 0 322 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-logo-text">
<path d="M16.4923 21.5221C16.0962 21.5202 15.7132 21.6668 15.4167 21.9339C13.9468 23.1946 12.5055 23.8978 10.3687 23.8978C6.5073 23.8978 3.70719 20.644 3.70719 16.6104V16.5521C3.70719 12.5441 6.53598 9.31211 10.3687 9.31211C12.142 9.31448 13.8542 9.97091 15.1873 11.1595C15.4503 11.3483 15.7586 11.4616 16.0796 11.4875C16.4007 11.5134 16.7227 11.4509 17.0117 11.3067C17.3008 11.1624 17.5463 10.9416 17.7224 10.6676C17.8985 10.3935 17.9987 10.0764 18.0125 9.74936C18.0137 9.47206 17.952 9.19822 17.8319 8.9492C17.7119 8.70017 17.5369 8.4827 17.3205 8.31374C15.5637 6.93643 13.513 6 10.3973 6C4.30235 6 0 10.7769 0 16.6104V16.6687C0 22.5642 4.38481 27.2354 10.2683 27.2354C13.5273 27.2354 15.6928 26.1824 17.5966 24.4808C17.7764 24.3189 17.9207 24.1204 18.0201 23.8982C18.1196 23.676 18.1719 23.435 18.1738 23.1909C18.1617 22.7453 17.9795 22.3219 17.6656 22.0104C17.3518 21.699 16.931 21.5238 16.4923 21.5221V21.5221ZM29.7041 14.9853C25.8069 14.0453 24.8855 13.342 24.8855 11.7607V11.7024C24.8855 10.3506 26.0973 9.26839 28.1732 9.26839C29.7615 9.26839 31.2601 9.79308 32.8341 10.8206C33.1116 10.996 33.4322 11.0882 33.7591 11.0866C33.977 11.089 34.1933 11.0476 34.3954 10.9647C34.5976 10.8818 34.7816 10.7591 34.9369 10.6037C35.0921 10.4482 35.2156 10.2631 35.3002 10.0589C35.3848 9.85479 35.4289 9.63565 35.4298 9.41414C35.4373 9.12618 35.3692 8.84139 35.2324 8.58907C35.0957 8.33675 34.8953 8.12601 34.6518 7.97852C32.7598 6.69182 30.5246 6.02662 28.2485 6.07287C24.2401 6.07287 21.3576 8.50321 21.3576 12.023V12.0813C21.3576 15.8635 23.7776 17.1533 28.0764 18.21C31.8266 19.0881 32.6333 19.8788 32.6333 21.3472V21.4055C32.6333 22.9286 31.2494 23.9853 29.048 23.9853C26.977 23.9843 24.9735 23.2368 23.394 21.8756C23.1425 21.6924 22.8468 21.5819 22.5385 21.5558C22.2301 21.5296 21.9206 21.5888 21.6426 21.7271C21.3647 21.8653 21.1288 22.0774 20.9599 22.3409C20.7911 22.6044 20.6956 22.9095 20.6835 23.2237C20.6822 23.4928 20.7443 23.7583 20.8647 23.9979C20.9851 24.2375 21.1602 24.4444 21.3755 24.601C23.5587 26.2783 26.2216 27.1842 28.9584 27.1808C33.1998 27.1808 36.172 24.8925 36.172 21.0521V20.9938C36.1827 17.5942 33.9706 16.0384 29.7041 14.9853ZM47.5839 14.9853C43.6903 14.0453 42.7689 13.342 42.7689 11.7607V11.7024C42.7689 10.3506 43.9807 9.26839 46.0566 9.26839C47.6413 9.26839 49.1435 9.79308 50.7175 10.8206C50.995 10.996 51.3157 11.0882 51.6425 11.0866C51.8604 11.089 52.0767 11.0476 52.2788 10.9647C52.481 10.8818 52.665 10.7591 52.8203 10.6037C52.9756 10.4482 53.0991 10.2631 53.1837 10.0589C53.2683 9.85479 53.3123 9.63565 53.3132 9.41414C53.3207 9.12618 53.2526 8.84139 53.1158 8.58907C52.9791 8.33675 52.7787 8.12601 52.5352 7.97852C50.6382 6.68823 48.3962 6.02286 46.114 6.07287C42.1056 6.07287 39.2195 8.50321 39.2195 12.023V12.0813C39.2195 15.8635 41.6431 17.1533 45.9419 18.21C49.6921 19.0881 50.4988 19.8788 50.4988 21.3472V21.4055C50.4988 22.9286 49.1149 23.9853 46.9135 23.9853C44.8438 23.9835 42.8417 23.236 41.2631 21.8756C41.0112 21.6927 40.7154 21.5825 40.4069 21.5565C40.0985 21.5304 39.7888 21.5896 39.5108 21.7277C39.2327 21.8659 38.9965 22.0778 38.8272 22.3412C38.6579 22.6045 38.5618 22.9094 38.549 23.2237C38.5485 23.4926 38.611 23.7578 38.7314 23.9973C38.8517 24.2368 39.0264 24.4437 39.241 24.601C41.4259 26.2776 44.0897 27.1834 46.8274 27.1808C51.0688 27.1808 54.0375 24.8925 54.0375 21.0521V20.9938C54.0446 17.5942 51.854 16.0384 47.5839 14.9853ZM63.94 16.1586H58.5155C58.0741 16.1791 57.6574 16.3718 57.3522 16.6965C57.0469 17.0212 56.8766 17.453 56.8766 17.9021C56.8766 18.3512 57.0469 18.783 57.3522 19.1077C57.6574 19.4325 58.0741 19.6251 58.5155 19.6456H63.94C64.3815 19.6251 64.7981 19.4325 65.1034 19.1077C65.4086 18.783 65.5789 18.3512 65.5789 17.9021C65.5789 17.453 65.4086 17.0212 65.1034 16.6965C64.7981 16.3718 64.3815 16.1791 63.94 16.1586V16.1586ZM80.2818 6.36437H66.88C66.6576 6.35381 66.4355 6.3892 66.227 6.4684C66.0185 6.54759 65.828 6.66895 65.667 6.82512C65.506 6.98129 65.3778 7.16903 65.2902 7.37699C65.2027 7.58495 65.1575 7.8088 65.1575 8.035C65.1575 8.2612 65.2027 8.48505 65.2902 8.69301C65.3778 8.90097 65.506 9.08871 65.667 9.24488C65.828 9.40105 66.0185 9.52241 66.227 9.6016C66.4355 9.6808 66.6576 9.71619 66.88 9.70563H71.7811V25.246C71.7811 25.7292 71.9699 26.1925 72.3061 26.5342C72.6423 26.8759 73.0983 27.0678 73.5737 27.0678C74.0491 27.0678 74.5051 26.8759 74.8413 26.5342C75.1775 26.1925 75.3663 25.7292 75.3663 25.246V9.70563H80.2818C80.7045 9.68556 81.1033 9.50079 81.3955 9.18968C81.6876 8.87858 81.8506 8.46505 81.8506 8.035C81.8506 7.60495 81.6876 7.19142 81.3955 6.88032C81.1033 6.56921 80.7045 6.38444 80.2818 6.36437V6.36437ZM94.2106 6.36437H87.0113C86.7749 6.36043 86.54 6.40486 86.3208 6.49502C86.1015 6.58518 85.9024 6.71923 85.7351 6.8892C85.5679 7.05916 85.436 7.26157 85.3473 7.48439C85.2586 7.70721 85.2148 7.94588 85.2187 8.18621V25.2496C85.2796 25.6839 85.4926 26.0812 85.8186 26.3687C86.1447 26.6562 86.5618 26.8145 86.9934 26.8145C87.4251 26.8145 87.8422 26.6562 88.1682 26.3687C88.4942 26.0812 88.7073 25.6839 88.7681 25.2496V19.7331H93.239L98.1401 26.0949C98.3271 26.3875 98.584 26.6271 98.8869 26.7915C99.1897 26.9559 99.5285 27.0397 99.8718 27.035C100.092 27.0389 100.31 26.9987 100.515 26.9167C100.719 26.8348 100.906 26.7126 101.064 26.5573C101.222 26.402 101.349 26.2166 101.436 26.0116C101.524 25.8066 101.571 25.586 101.575 25.3626C101.555 24.847 101.35 24.3568 100.998 23.9853L97.1326 19.0298C99.8431 18.1809 101.718 16.1878 101.718 12.9011V12.8428C101.739 12.0293 101.602 11.2196 101.314 10.46C101.027 9.70038 100.595 9.00573 100.044 8.41577C98.7496 7.1259 96.7741 6.36437 94.2214 6.36437H94.2106ZM98.115 13.1052C98.115 15.1857 96.5016 16.5339 93.9632 16.5339H88.7717V9.64733H93.9345C96.559 9.64733 98.115 10.8498 98.115 13.0505V13.1052ZM107.777 6.21862C107.543 6.21326 107.31 6.25564 107.093 6.34324C106.875 6.43083 106.677 6.56188 106.509 6.72865C106.342 6.89541 106.21 7.09451 106.12 7.31419C106.03 7.53386 105.984 7.76967 105.985 8.00767V25.246C106.005 25.7098 106.201 26.1478 106.531 26.4686C106.861 26.7895 107.301 26.9685 107.758 26.9685C108.214 26.9685 108.654 26.7895 108.984 26.4686C109.314 26.1478 109.51 25.7098 109.531 25.246V8.00403C109.532 7.76947 109.488 7.53695 109.4 7.31992C109.313 7.10289 109.183 6.90565 109.02 6.73962C108.857 6.57359 108.664 6.44206 108.45 6.35263C108.237 6.2632 108.008 6.21765 107.777 6.21862V6.21862ZM130.246 21.5221C129.85 21.5191 129.467 21.6659 129.171 21.9339C127.697 23.1946 126.256 23.8978 124.123 23.8978C120.258 23.8978 117.458 20.644 117.458 16.6104V16.5521C117.458 12.5441 120.286 9.31211 124.123 9.31211C125.895 9.3147 127.606 9.97116 128.938 11.1595C129.246 11.3991 129.625 11.5274 130.013 11.5238C130.243 11.5287 130.472 11.4867 130.686 11.4004C130.9 11.314 131.094 11.185 131.259 11.021C131.423 10.857 131.553 10.6613 131.641 10.4454C131.73 10.2295 131.775 9.9978 131.774 9.76393C131.773 9.48692 131.711 9.21364 131.591 8.96487C131.471 8.71611 131.297 8.4984 131.082 8.32832C129.321 6.951 127.274 6.01458 124.159 6.01458C118.042 6.01458 113.761 10.7915 113.761 16.625V16.6833C113.761 22.5788 118.142 27.25 124.029 27.25C127.288 27.25 129.45 26.197 131.354 24.4954C131.534 24.3335 131.678 24.135 131.778 23.9128C131.877 23.6906 131.93 23.4496 131.931 23.2055C131.923 22.7567 131.742 22.3291 131.427 22.0144C131.112 21.6997 130.688 21.523 130.246 21.5221ZM144.946 15.3934L151.235 9.23924C151.431 9.07489 151.59 8.86863 151.7 8.63504C151.809 8.40145 151.867 8.14624 151.869 7.88743C151.872 7.66729 151.831 7.44889 151.749 7.24507C151.667 7.04126 151.546 6.85615 151.392 6.70065C151.239 6.54515 151.057 6.42239 150.856 6.33961C150.655 6.25683 150.44 6.21569 150.224 6.21862C149.944 6.21503 149.668 6.27539 149.414 6.39524C149.161 6.51509 148.938 6.69134 148.761 6.91092L139.188 16.6833V8.00403C139.168 7.54018 138.972 7.10224 138.642 6.78138C138.311 6.46052 137.872 6.28145 137.415 6.28145C136.958 6.28145 136.519 6.46052 136.189 6.78138C135.858 7.10224 135.663 7.54018 135.642 8.00403V25.2423C135.663 25.7062 135.858 26.1441 136.189 26.465C136.519 26.7858 136.958 26.9649 137.415 26.9649C137.872 26.9649 138.311 26.7858 138.642 26.465C138.972 26.1441 139.168 25.7062 139.188 25.2423V20.9938L142.476 17.7691L148.965 26.186C149.125 26.4441 149.347 26.6571 149.61 26.8054C149.872 26.9538 150.167 27.0327 150.467 27.035C150.7 27.0439 150.932 27.0048 151.149 26.9203C151.367 26.8358 151.565 26.7075 151.733 26.5431C151.9 26.3788 152.033 26.1817 152.124 25.9638C152.214 25.7459 152.261 25.5117 152.26 25.2751C152.257 24.7993 152.084 24.3408 151.772 23.9853L144.946 15.3934ZM163.518 14.9853C159.624 14.0453 158.703 13.342 158.703 11.7607V11.7024C158.703 10.3506 159.915 9.26839 161.99 9.26839C163.579 9.26839 165.077 9.79308 166.651 10.8206C166.929 10.996 167.25 11.0882 167.576 11.0866C167.794 11.089 168.011 11.0476 168.213 10.9647C168.415 10.8818 168.599 10.7591 168.754 10.6037C168.909 10.4482 169.033 10.2631 169.118 10.0589C169.202 9.85479 169.246 9.63565 169.247 9.41414C169.256 9.12724 169.189 8.84317 169.054 8.59095C168.92 8.33873 168.721 8.12739 168.48 7.97852C166.588 6.69182 164.353 6.02662 162.077 6.07287C158.068 6.07287 155.182 8.50321 155.182 12.023V12.0813C155.182 15.8635 157.606 17.1533 161.904 18.21C165.655 19.0881 166.461 19.8788 166.461 21.3472V21.4055C166.461 22.9286 165.077 23.9853 162.876 23.9853C160.806 23.9835 158.804 23.236 157.226 21.8756C156.974 21.6927 156.678 21.5825 156.369 21.5565C156.061 21.5304 155.751 21.5896 155.473 21.7277C155.195 21.8659 154.959 22.0778 154.79 22.3412C154.62 22.6045 154.524 22.9094 154.512 23.2237C154.511 23.4931 154.574 23.7586 154.695 23.9982C154.816 24.2379 154.991 24.4446 155.207 24.601C157.39 26.2783 160.053 27.1842 162.79 27.1808C167.031 27.1808 170 24.8925 170 21.0521V20.9938C169.989 17.5942 167.799 16.0384 163.529 14.9853H163.518Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M211.018 29V23.9655C216.367 23.9655 220.48 18.6838 218.439 13.0624C217.697 10.993 216.027 9.32513 213.955 8.58385C208.328 6.54532 203.04 10.6841 203.04 15.9967V15.9967H198C198 7.50281 206.225 0.862157 215.13 3.64197C219.026 4.84655 222.118 7.96611 223.355 11.8578C226.138 20.7841 219.521 29 211.018 29V29Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M211.017 23.9966H206.008V18.9929V18.9929H211.017V18.9929V23.9966Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M206.007 27.8589H202.142V27.8589V23.998H206.007V27.8589V27.8589Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M202.145 23.9984H198.898V23.9984V20.7861V20.7861H202.114V20.7861V23.9984H202.145Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M239.312 14.8042C238.176 14.0276 236.755 13.6275 235.098 13.6275H231.5V25.0183H235.098C236.755 25.0183 238.176 24.5946 239.312 23.7709C239.927 23.3238 240.425 22.7119 240.756 21.9352C241.087 21.1586 241.277 20.2643 241.277 19.2523C241.277 18.2403 241.111 17.346 240.756 16.5929C240.425 15.8162 239.951 15.2043 239.312 14.8042V14.8042ZM233.609 15.535H234.745C236 15.535 237.041 15.7704 237.823 16.2646C238.699 16.7824 239.148 17.7943 239.148 19.23C239.148 20.7126 238.699 21.7482 237.823 22.313V22.313C237.065 22.8072 236.047 23.0661 234.769 23.0661H233.633V15.535H233.609Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M243.809 13.463C243.454 13.463 243.17 13.5807 242.933 13.816C242.697 14.0514 242.555 14.3338 242.555 14.6868C242.555 15.0398 242.673 15.3222 242.91 15.5811C243.147 15.8165 243.454 15.9341 243.809 15.9341C244.164 15.9341 244.448 15.8165 244.709 15.5811C244.946 15.3458 245.064 15.0398 245.064 14.6868C245.064 14.3338 244.946 14.0514 244.709 13.816C244.448 13.6042 244.141 13.463 243.809 13.463V13.463Z" fill="white"/>
<rect x="242.768" y="16.9687" width="2.03584" height="8.02531" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M252.164 17.6515C251.548 17.1102 250.862 16.8043 250.128 16.8043C249.015 16.8043 248.068 17.1808 247.358 17.9575C246.624 18.7106 246.269 19.6755 246.269 20.8287C246.269 21.9583 246.624 22.9233 247.334 23.6999C248.044 24.453 248.991 24.8296 250.104 24.8296C250.885 24.8296 251.548 24.6178 252.116 24.1941V24.3824C252.116 25.0414 251.927 25.5591 251.595 25.9122C251.24 26.2652 250.743 26.4535 250.151 26.4535C249.204 26.4535 248.636 26.0769 247.902 25.1355L246.529 26.4535L246.577 26.5005C246.885 26.9241 247.334 27.3242 247.926 27.7008C248.518 28.0773 249.299 28.2892 250.175 28.2892C251.382 28.2892 252.353 27.9126 253.063 27.183C253.773 26.4535 254.152 25.465 254.152 24.2647V16.969H252.164V17.6515V17.6515ZM251.619 22.3826C251.264 22.7827 250.814 22.9709 250.223 22.9709C249.631 22.9709 249.181 22.7827 248.85 22.3826C248.495 21.9825 248.329 21.4647 248.329 20.8057C248.329 20.1468 248.495 19.629 248.85 19.2289C249.205 18.8288 249.655 18.6406 250.223 18.6406C250.814 18.6406 251.264 18.8288 251.619 19.2289C251.974 19.629 252.14 20.1703 252.14 20.8057C252.164 21.4647 251.974 21.9825 251.619 22.3826V22.3826Z" fill="white"/>
<rect x="255.883" y="16.9687" width="2.03584" height="8.02531" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M256.924 13.463C256.569 13.463 256.285 13.5807 256.048 13.816C255.811 14.0514 255.669 14.3338 255.669 14.6868C255.669 15.0398 255.788 15.3222 256.024 15.5811C256.261 15.8165 256.569 15.9341 256.924 15.9341C257.279 15.9341 257.563 15.8165 257.823 15.5811C258.06 15.3458 258.178 15.0398 258.178 14.6868C258.178 14.3338 258.06 14.0514 257.823 13.816C257.563 13.6042 257.279 13.463 256.924 13.463V13.463Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M262.367 14.8034H260.379V16.9686H259.219V18.8043H260.379V22.1227C260.379 23.1582 260.592 23.9113 260.994 24.3349C261.421 24.7586 262.154 24.9939 263.172 24.9939C263.504 24.9939 263.835 24.9939 264.167 24.9704H264.261V23.1347L263.575 23.1817C263.101 23.1817 262.77 23.0876 262.604 22.9229C262.438 22.7581 262.367 22.4051 262.367 21.8638V18.8278H264.261V16.9921H262.367V14.8034V14.8034Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M273.78 13.603H275.815V24.9937H273.78V13.603Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M296.291 22.1231C295.936 22.5232 295.557 22.8762 295.273 23.0645V23.0645C294.989 23.2527 294.634 23.3233 294.232 23.3233C293.64 23.3233 293.143 23.1115 292.764 22.6644C292.385 22.2172 292.172 21.6524 292.172 20.9699C292.172 20.2874 292.361 19.7226 292.74 19.2754C293.119 18.8282 293.616 18.6164 294.208 18.6164C294.871 18.6164 295.557 19.0165 296.149 19.7226L297.498 18.4517V18.4517C296.623 17.322 295.51 16.8043 294.184 16.8043C293.072 16.8043 292.101 17.2043 291.32 18.0045C290.539 18.8047 290.136 19.7932 290.136 20.9934C290.136 22.1937 290.539 23.2057 291.32 23.9823C292.101 24.7825 293.072 25.1826 294.184 25.1826C295.652 25.1826 296.836 24.5471 297.64 23.394L296.291 22.1231V22.1231Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M304.624 18.1001C304.34 17.7 303.938 17.3705 303.464 17.1352C302.991 16.8998 302.423 16.7822 301.784 16.7822C300.647 16.7822 299.724 17.2058 299.038 18.006C298.351 18.8297 298.02 19.8417 298.02 21.0184C298.02 22.2422 298.399 23.2307 299.132 24.0073C299.866 24.7604 300.86 25.1605 302.068 25.1605C303.441 25.1605 304.553 24.6192 305.406 23.5366L305.453 23.4895L304.127 22.2187V22.2187C304.009 22.3599 303.82 22.5246 303.678 22.6894C303.488 22.8776 303.299 23.0188 303.086 23.113C302.778 23.2542 302.447 23.3483 302.068 23.3483C301.5 23.3483 301.05 23.1836 300.695 22.8541C300.363 22.5481 300.174 22.1481 300.127 21.6303H305.5L305.524 20.9007C305.524 20.383 305.453 19.8887 305.311 19.418C305.122 18.9238 304.908 18.5002 304.624 18.1001V18.1001ZM300.197 19.982C300.292 19.6055 300.481 19.276 300.718 19.0407C301.002 18.7818 301.357 18.6406 301.783 18.6406C302.281 18.6406 302.659 18.7818 302.92 19.0642C303.156 19.3231 303.298 19.629 303.322 20.0056H300.197V19.982Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M312.414 17.5809V17.5809C311.798 17.0631 310.946 16.8043 309.881 16.8043C309.195 16.8043 308.579 16.9455 308.011 17.2279C307.49 17.4868 306.969 17.9339 306.638 18.5223L306.662 18.5458L307.964 19.7932C308.508 18.9459 309.1 18.64 309.881 18.64C310.307 18.64 310.662 18.7576 310.923 18.9694C311.183 19.1813 311.325 19.4637 311.325 19.8402V20.2403C310.828 20.0991 310.331 20.005 309.834 20.005C308.816 20.005 308.011 20.2403 307.395 20.711C306.78 21.1817 306.472 21.8642 306.472 22.7114C306.472 23.4646 306.733 24.0765 307.253 24.5236C307.774 24.9708 308.437 25.1826 309.218 25.1826C309.999 25.1826 310.71 24.8766 311.372 24.3353V24.9943H313.361V19.8402C313.337 18.8518 313.029 18.0987 312.414 17.5809V17.5809ZM308.814 21.9348C309.051 21.7701 309.359 21.6995 309.785 21.6995C310.282 21.6995 310.803 21.7936 311.323 21.9819V22.7585C310.874 23.1586 310.282 23.3704 309.572 23.3704C309.217 23.3704 308.956 23.2998 308.767 23.1351C308.577 22.9939 308.483 22.8056 308.483 22.5467C308.483 22.2878 308.577 22.076 308.814 21.9348V21.9348Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M321.148 17.721C320.58 17.0856 319.798 16.7797 318.78 16.7797C317.976 16.7797 317.313 17.015 316.839 17.4622V16.9679H314.851V24.9932H316.887V20.5687C316.887 19.9568 317.029 19.4861 317.313 19.1331C317.597 18.7801 317.999 18.6154 318.52 18.6154C318.97 18.6154 319.325 18.7566 319.585 19.0625C319.846 19.3685 319.964 19.7921 319.964 20.3334V24.9697H322V20.3334C322 19.2273 321.716 18.3565 321.148 17.721V17.721Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M271.225 17.5809V17.5809C270.609 17.0631 269.757 16.8043 268.692 16.8043C268.005 16.8043 267.39 16.9455 266.821 17.2279C266.301 17.4868 265.78 17.9339 265.448 18.5223L265.472 18.5458L266.774 19.7932C267.319 18.9459 267.91 18.64 268.692 18.64C269.118 18.64 269.473 18.7576 269.733 18.9694C269.994 19.1813 270.136 19.4637 270.136 19.8402V20.2403C269.638 20.0991 269.141 20.005 268.644 20.005C267.626 20.005 266.821 20.2403 266.206 20.711C265.59 21.1817 265.283 21.8642 265.283 22.7114C265.283 23.4646 265.543 24.0765 266.064 24.5236C266.585 24.9708 267.248 25.1826 268.029 25.1826C268.81 25.1826 269.52 24.8766 270.183 24.3353V24.9943H272.171V19.8402C272.148 18.8518 271.84 18.0987 271.225 17.5809V17.5809ZM267.625 21.9348C267.862 21.7701 268.169 21.6995 268.595 21.6995C269.092 21.6995 269.613 21.7936 270.134 21.9819V22.7585C269.684 23.1586 269.092 23.3704 268.382 23.3704C268.027 23.3704 267.767 23.2998 267.577 23.1351C267.388 22.9939 267.293 22.8056 267.293 22.5467C267.293 22.2878 267.388 22.076 267.625 21.9348V21.9348Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M283.153 25.1587C279.91 25.1587 277.259 22.5228 277.259 19.2986C277.259 16.0744 279.91 13.4385 283.153 13.4385C286.396 13.4385 289.048 16.0744 289.048 19.2986C289.048 22.5228 286.42 25.1587 283.153 25.1587V25.1587ZM283.152 15.4859C281.045 15.4859 279.341 17.1804 279.341 19.275C279.341 21.3696 281.045 23.0641 283.152 23.0641C285.259 23.0641 286.963 21.3696 286.963 19.275C286.963 17.1804 285.259 15.4859 283.152 15.4859V15.4859Z" fill="white"/>
<path d="M231.652 9H231.156L232.412 3.1H233.912C234.315 3.1 234.637 3.16667 234.88 3.3C235.123 3.43333 235.299 3.612 235.408 3.836C235.517 4.06 235.572 4.30667 235.572 4.576C235.572 4.92267 235.513 5.236 235.396 5.516C235.281 5.79333 235.117 6.03333 234.904 6.236C234.693 6.43867 234.441 6.59333 234.148 6.7C233.855 6.80667 233.532 6.86 233.18 6.86H232.108L231.652 9ZM232.148 6.676L231.98 6.424H233.172C233.559 6.424 233.895 6.34667 234.18 6.192C234.465 6.03467 234.687 5.81733 234.844 5.54C235.001 5.26267 235.08 4.94 235.08 4.572C235.08 4.36133 235.037 4.18 234.952 4.028C234.867 3.87333 234.729 3.75333 234.54 3.668C234.351 3.58 234.1 3.536 233.788 3.536H232.592L232.872 3.26L232.148 6.676ZM237.474 9.076C237.111 9.076 236.799 9.004 236.538 8.86C236.276 8.71333 236.075 8.51067 235.934 8.252C235.792 7.99333 235.722 7.692 235.722 7.348C235.722 6.97467 235.786 6.62667 235.914 6.304C236.044 5.98133 236.224 5.7 236.454 5.46C236.686 5.21733 236.956 5.02933 237.266 4.896C237.578 4.76 237.915 4.692 238.278 4.692C238.643 4.692 238.955 4.76667 239.214 4.916C239.475 5.06533 239.675 5.26933 239.814 5.528C239.952 5.784 240.022 6.07467 240.022 6.4C240.022 6.79467 239.955 7.156 239.822 7.484C239.691 7.80933 239.51 8.09067 239.278 8.328C239.046 8.56533 238.775 8.74933 238.466 8.88C238.159 9.01067 237.828 9.076 237.474 9.076ZM237.51 8.632C237.886 8.632 238.224 8.54133 238.526 8.36C238.83 8.176 239.071 7.92133 239.25 7.596C239.428 7.268 239.518 6.88667 239.518 6.452C239.518 6.18533 239.468 5.95467 239.37 5.76C239.271 5.56267 239.127 5.40933 238.938 5.3C238.751 5.19067 238.52 5.136 238.246 5.136C237.952 5.136 237.682 5.192 237.434 5.304C237.188 5.41333 236.975 5.56667 236.794 5.764C236.615 5.96133 236.475 6.19067 236.374 6.452C236.275 6.71333 236.226 6.996 236.226 7.3C236.226 7.71067 236.336 8.036 236.558 8.276C236.782 8.51333 237.099 8.632 237.51 8.632ZM243.959 9L243.627 4.752H244.055L244.379 8.76H244.287L245.967 4.752H246.499L244.639 9H243.959ZM241.159 9L241.095 4.752H241.595L241.579 8.76H241.483L243.503 4.752H243.967L241.843 9H241.159ZM246.97 7.084L247.066 6.64H250.506L250.406 6.78C250.42 6.724 250.432 6.65867 250.442 6.584C250.453 6.50667 250.458 6.42267 250.458 6.332C250.458 6.11067 250.413 5.91067 250.322 5.732C250.234 5.55067 250.1 5.40667 249.918 5.3C249.737 5.19333 249.506 5.14 249.226 5.14C248.925 5.14 248.649 5.196 248.398 5.308C248.15 5.42 247.934 5.576 247.75 5.776C247.569 5.97333 247.428 6.204 247.326 6.468C247.228 6.72933 247.178 7.012 247.178 7.316C247.178 7.57467 247.225 7.80267 247.318 8C247.414 8.19733 247.56 8.35067 247.754 8.46C247.949 8.56933 248.194 8.624 248.49 8.624C248.738 8.624 248.958 8.59467 249.15 8.536C249.345 8.47467 249.51 8.39467 249.646 8.296C249.785 8.19733 249.896 8.09333 249.978 7.984C250.064 7.872 250.122 7.76667 250.154 7.668H250.654C250.614 7.82533 250.534 7.98667 250.414 8.152C250.297 8.31467 250.142 8.46667 249.95 8.608C249.758 8.74933 249.533 8.864 249.274 8.952C249.018 9.03733 248.733 9.08 248.418 9.08C248.056 9.08 247.745 9.00667 247.486 8.86C247.23 8.71067 247.034 8.50533 246.898 8.244C246.765 7.98 246.698 7.676 246.698 7.332C246.698 6.96133 246.764 6.61733 246.894 6.3C247.028 5.98 247.212 5.7 247.446 5.46C247.684 5.21733 247.958 5.02933 248.27 4.896C248.582 4.76 248.917 4.692 249.274 4.692C249.632 4.692 249.933 4.76667 250.178 4.916C250.426 5.06267 250.614 5.26267 250.742 5.516C250.87 5.76933 250.934 6.05467 250.934 6.372C250.934 6.484 250.924 6.60667 250.902 6.74C250.884 6.87333 250.861 6.988 250.834 7.084H246.97ZM251.615 9L252.515 4.752H253.011L252.747 6.004L252.559 5.948C252.604 5.81467 252.673 5.676 252.767 5.532C252.86 5.38533 252.977 5.248 253.119 5.12C253.26 4.992 253.424 4.88933 253.611 4.812C253.8 4.732 254.012 4.692 254.247 4.692C254.415 4.692 254.549 4.70667 254.651 4.736C254.755 4.76533 254.817 4.788 254.839 4.804L254.603 5.284C254.579 5.26533 254.528 5.24133 254.451 5.212C254.376 5.18267 254.261 5.168 254.107 5.168C253.883 5.168 253.685 5.212 253.515 5.3C253.344 5.38533 253.199 5.49733 253.079 5.636C252.959 5.77467 252.861 5.92267 252.787 6.08C252.715 6.23733 252.664 6.38667 252.635 6.528L252.107 9H251.615ZM255.181 7.084L255.277 6.64H258.717L258.617 6.78C258.631 6.724 258.643 6.65867 258.653 6.584C258.664 6.50667 258.669 6.42267 258.669 6.332C258.669 6.11067 258.624 5.91067 258.533 5.732C258.445 5.55067 258.311 5.40667 258.129 5.3C257.948 5.19333 257.717 5.14 257.437 5.14C257.136 5.14 256.86 5.196 256.609 5.308C256.361 5.42 256.145 5.576 255.961 5.776C255.78 5.97333 255.639 6.204 255.537 6.468C255.439 6.72933 255.389 7.012 255.389 7.316C255.389 7.57467 255.436 7.80267 255.529 8C255.625 8.19733 255.771 8.35067 255.965 8.46C256.16 8.56933 256.405 8.624 256.701 8.624C256.949 8.624 257.169 8.59467 257.361 8.536C257.556 8.47467 257.721 8.39467 257.857 8.296C257.996 8.19733 258.107 8.09333 258.189 7.984C258.275 7.872 258.333 7.76667 258.365 7.668H258.865C258.825 7.82533 258.745 7.98667 258.625 8.152C258.508 8.31467 258.353 8.46667 258.161 8.608C257.969 8.74933 257.744 8.864 257.485 8.952C257.229 9.03733 256.944 9.08 256.629 9.08C256.267 9.08 255.956 9.00667 255.697 8.86C255.441 8.71067 255.245 8.50533 255.109 8.244C254.976 7.98 254.909 7.676 254.909 7.332C254.909 6.96133 254.975 6.61733 255.105 6.3C255.239 5.98 255.423 5.7 255.657 5.46C255.895 5.21733 256.169 5.02933 256.481 4.896C256.793 4.76 257.128 4.692 257.485 4.692C257.843 4.692 258.144 4.76667 258.389 4.916C258.637 5.06267 258.825 5.26267 258.953 5.516C259.081 5.76933 259.145 6.05467 259.145 6.372C259.145 6.484 259.135 6.60667 259.113 6.74C259.095 6.87333 259.072 6.988 259.045 7.084H255.181ZM261.526 9.076C261.072 9.076 260.714 8.93067 260.45 8.64C260.186 8.34933 260.054 7.94133 260.054 7.416C260.054 7.048 260.108 6.7 260.218 6.372C260.33 6.044 260.487 5.75467 260.69 5.504C260.895 5.25067 261.14 5.05333 261.426 4.912C261.711 4.768 262.028 4.696 262.378 4.696C262.666 4.696 262.922 4.756 263.146 4.876C263.372 4.996 263.551 5.16133 263.682 5.372C263.812 5.58267 263.878 5.82533 263.878 6.1C263.878 6.172 263.872 6.248 263.862 6.328C263.851 6.40533 263.839 6.46667 263.826 6.512L263.486 6.52C263.499 6.47467 263.508 6.424 263.514 6.368C263.522 6.30933 263.526 6.26 263.526 6.22C263.526 6.01733 263.475 5.83467 263.374 5.672C263.275 5.50933 263.139 5.38133 262.966 5.288C262.795 5.19467 262.6 5.148 262.382 5.148C262.091 5.148 261.832 5.208 261.606 5.328C261.382 5.44533 261.192 5.608 261.038 5.816C260.883 6.02133 260.764 6.25867 260.682 6.528C260.602 6.79467 260.562 7.076 260.562 7.372C260.562 7.76933 260.656 8.07467 260.846 8.288C261.038 8.50133 261.308 8.608 261.658 8.608C261.922 8.608 262.17 8.54667 262.402 8.424C262.636 8.30133 262.836 8.13867 263.002 7.936C263.17 7.73067 263.279 7.504 263.33 7.256L263.722 7.264C263.65 7.6 263.507 7.90533 263.294 8.18C263.08 8.45467 262.819 8.67333 262.51 8.836C262.203 8.996 261.875 9.076 261.526 9.076ZM262.958 9L264.286 2.748H264.782L263.454 9H262.958ZM268.755 9.076C268.47 9.076 268.214 9.01467 267.987 8.892C267.76 8.76933 267.582 8.60133 267.451 8.388C267.323 8.172 267.259 7.92667 267.259 7.652C267.259 7.57733 267.263 7.50533 267.271 7.436C267.282 7.36667 267.294 7.30667 267.307 7.256L267.643 7.248C267.635 7.28 267.627 7.32267 267.619 7.376C267.614 7.42933 267.611 7.48133 267.611 7.532C267.611 7.73467 267.66 7.91733 267.759 8.08C267.86 8.24267 267.996 8.372 268.167 8.468C268.34 8.56133 268.536 8.608 268.755 8.608C269.043 8.608 269.299 8.54933 269.523 8.432C269.75 8.312 269.94 8.148 270.095 7.94C270.252 7.732 270.371 7.49467 270.451 7.228C270.531 6.96133 270.571 6.68 270.571 6.384C270.571 5.97867 270.479 5.67067 270.295 5.46C270.111 5.24933 269.843 5.144 269.491 5.144C269.243 5.144 269 5.204 268.763 5.324C268.526 5.444 268.32 5.604 268.147 5.804C267.974 6.004 267.86 6.22533 267.807 6.468L267.423 6.456C267.495 6.12 267.643 5.81867 267.867 5.552C268.091 5.28533 268.356 5.076 268.663 4.924C268.972 4.76933 269.29 4.692 269.615 4.692C270.071 4.692 270.428 4.83733 270.687 5.128C270.948 5.41867 271.079 5.83067 271.079 6.364C271.079 6.732 271.023 7.08 270.911 7.408C270.802 7.73333 270.644 8.02133 270.439 8.272C270.234 8.52267 269.988 8.72 269.703 8.864C269.418 9.00533 269.102 9.076 268.755 9.076ZM266.775 9L268.107 2.748H268.603L267.275 9H266.775ZM271.22 10.776C271.121 10.776 271.031 10.7693 270.948 10.756C270.865 10.7453 270.816 10.736 270.8 10.728L270.892 10.284C270.921 10.3027 270.975 10.3173 271.052 10.328C271.127 10.3413 271.2 10.348 271.272 10.348C271.456 10.348 271.619 10.3027 271.76 10.212C271.904 10.1213 272.031 10.0067 272.14 9.868C272.249 9.72933 272.344 9.58667 272.424 9.44L272.66 9.012L272.084 4.752H272.588L273.072 8.552H272.984L275.036 4.752H275.568L272.976 9.42C272.848 9.652 272.707 9.87067 272.552 10.076C272.4 10.284 272.217 10.452 272.004 10.58C271.791 10.7107 271.529 10.776 271.22 10.776Z" fill="white"/>
<line x1="184.5" y1="-2.18557e-08" x2="184.5" y2="32" stroke="white" stroke-opacity="0.5"/>
</svg>
    </a>
  </div>

  <div class="header-middle-area">

    <nav id="main-nav" class="main-nav" role="navigation">
	<ul id="menu-primary" class="menu"><li id="menu-item-379211" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-379211"><a href="https://css-tricks.com/category/articles/"><span>Articles</span></a></li>
<li id="menu-item-379212" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-379212"><a href="https://css-tricks.com/category/notes/"><span>Notes</span></a></li>
<li id="menu-item-379154" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-379154"><a href="https://css-tricks.com/category/links/"><span>Links</span></a></li>
<li id="menu-item-377808" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-377808"><a href="/guides"><span>Guides</span></a></li>
<li id="menu-item-377809" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-377809"><a href="/almanac"><span>Almanac</span></a></li>
<li id="menu-item-382690" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-382690"><a href="https://css-tricks.com/picks/"><span>Picks</span></a></li>
<li id="menu-item-379272" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-379272"><a href="/random"><span>Shuffle</span></a></li>
</ul></nav>

<div class="search-and-account">

  <a href="https://www.google.com/search?q=site:css-tricks.com%20layout" class="jetpack-search-filter__link">
    <span class="screen-reader-text">Search</span>
    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0726 10.4326C12.4801 10.4326 10.4 12.5451 10.4 15.1053C10.4 17.6978 12.5125 19.7779 15.0726 19.7779C17.6651 19.7779 19.7453 17.6654 19.7453 15.1053C19.744 12.544 17.664 10.4326 15.0726 10.4326Z" fill="white"/>
<path d="M16.0327 0.447479C7.42401 0.447479 0.447693 7.4238 0.447693 16.0324C0.447693 24.6398 7.42401 31.6161 16.0314 31.6161C24.64 31.6161 31.6163 24.6398 31.6163 16.0324C31.6163 7.4238 24.64 0.447479 16.0327 0.447479ZM23.6163 24.0324C23.3926 24.2562 23.0401 24.385 22.6563 24.385C22.2726 24.385 21.9526 24.2575 21.6963 24.0324L18.7526 21.0887L18.4651 21.2487C17.4088 21.825 16.2576 22.145 15.0724 22.145C11.1998 22.145 8.06509 19.0087 8.06509 15.1376C8.06509 11.265 11.2013 8.13023 15.0724 8.13023C18.9451 8.13023 22.0798 11.2665 22.0798 15.1376C22.0798 16.5138 21.6961 17.8251 20.9273 18.9776L20.7348 19.2976L23.6473 22.2101C23.8711 22.4664 24.0311 22.7864 24.0311 23.1376C23.9998 23.4563 23.8723 23.7763 23.616 24.0326L23.6163 24.0324Z" fill="white"/>
</svg>
  </a>

</div>
  </div>
  
</header>

  <div class="page-wrap">


<div class="articles-and-sidebar ">

  <main id="post-363766">

    <article>

      <header class="mega-header">

    <style>
    html {
      --featured-img: url(https://css-tricks.com/wp-content/uploads/2022/02/cascade-layers-guide.png);
      --bg-blend-mode: multiply;
      background-size: 120% 2000px, 100% auto;
    }
  </style>
  
    <div class="tags">
    <a href="https://css-tricks.com/tag/cascade-layers/" rel="tag">cascade layers</a>  </div>

  <h1 class="article-title">
          Cascade Layers Guide      </h1>

      <div class="author-row">

    
          <img style="border-radius: 50%;" src="https://secure.gravatar.com/avatar/ae0467bce26cf281ae92243a6000639eb4efaed23b953798bf4bdf7cdb1f3778?s=80&d=retro&r=pg"/>
    
    <div>
      
              
        <a class="author-name" href="https://css-tricks.com/author/miriam/">
          Miriam Suzanne        </a>
      
        on
      
              <time datetime="2024-10-17">
          Oct 17, 2024        </time>
      
    </div>

  
</div>
  
</header>
        <div class="article-sponsor">

  
      <p>
  Get affordable and hassle-free WordPress hosting plans with Cloudways  <a href="https://www.cloudways.com/en/wordpress-hosting.php?id=1223312">start your free trial today</a>.
</p>
    
</div>
        <div class="article-content">

          
          
<p>This is your complete guide to CSS cascade layers, a CSS feature that allows us to define explicit contained layers of specificity, so that we have full control over which styles take priority in a project without relying on specificity hacks or <code>!important</code>. This guide is intended to help you fully understand what cascade layers are for, how and why you might choose to use them, the current levels of support, and the syntax of how you use them.</p>



<span id="more-363766"></span>


<h2 class="simpletoc-title"><a href="#aa-table-of-contents" aria-hidden="true" class="aal_anchor" id="aa-table-of-contents"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table of Contents</h2>
<ul class="simpletoc-list">
<li><a href="#quick-example">Quick example</a>

</li>
<li><a href="#introduction-what-are-cascade-layers">Introduction: what are cascade layers?</a>


</li>

<li><a href="#where-do-layers-fit-in-the-cascade">Where do layers fit in the cascade?</a>

</li>
<li><a href="#important-origins-context-and-layers-are-reversed">!important origins, context, and layers are reversed!</a>


</li>

</li>

<li><a href="#establishing-a-layer-order">Establishing a layer order</a>

</li>
<li><a href="#syntax-working-with-cascade-layers">Syntax: Working with cascade layers</a>


</li>

</li>

</li>

</li>

</li>


</li>

</li>

<li><a href="#use-cases-when-would-i-want-to-use-cascade-layers">Use cases: When would I want to use cascade layers?</a>


</li>

</li>


</li>

</li>


</li>

</li>

</li>

<li><a href="#test-your-knowledge-which-style-wins">Test your knowledge: Which style wins?</a>


</li>

</li>

<li><a href="#debugging-layer-conflicts-in-browser-developer-tools">Debugging layer conflicts in browser developer tools</a>

</li>
<li><a href="#browser-support-and-fallbacks">Browser support and fallbacks</a>


</li>

</li>

<li><a href="#more-resources">More resources</a>


</li>

</li>

</li>
</li>
</ul>
</li></ul>

<h3 class="wp-block-heading" id="quick-example"><a href="#aa-quick-example" aria-hidden="true" class="aal_anchor" id="aa-quick-example"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quick example</h3>


<pre rel="CSS" class="wp-block-csstricks-code-block language-css ticss-a8840c73" data-line=""><code markup="tt">/* establish a layer order up-front, from lowest to highest priority */
@layer reset, defaults, patterns, components, utilities, overrides;

/* import stylesheets into a layer (dot syntax represents nesting) */
@import url('framework.css') layer(components.framework);

/* add styles to layers */
@layer utilities {
  /* high layer priority, despite low specificity */
  [data-color='brand'] { 
    color: var(--brand, rebeccapurple);
  }
}

@layer defaults {
  /* higher specificity, but lower layer priority */
  a:any-link { color: maroon; }
}

/* un-layered styles have the highest priority */
a {
  color: mediumvioletred;
}</code></pre>


<h3 class="wp-block-heading" id="introduction-what-are-cascade-layers"><a href="#aa-introduction-what-are-cascade-layers" aria-hidden="true" class="aal_anchor" id="aa-introduction-what-are-cascade-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction: what are cascade layers?</h3>


<p>CSS Cascade Layers are intended to solve tricky problems in CSS. Lets take a look at <strong>the main problem</strong> and how cascade layers aim to solve it.</p>


<h4 class="wp-block-heading" id="problem-specificity-conflicts-escalate"><a href="#aa-problem-specificity-conflicts-escalate" aria-hidden="true" class="aal_anchor" id="aa-problem-specificity-conflicts-escalate"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Problem: Specificity conflicts escalate</h4>


<p>Many of us have been in situations where we want to override styles from elsewhere in our code (or a third-party tool), due to conflicting selectors. And over the years, authors have developed a number of methodologies and best practices to avoid these situations  such as only using a single class for all selectors. These rules are usually more about avoiding the cascade, rather than <a href="https://css-tricks.com/dont-fight-the-cascade-control-it/">putting it to use</a>.</p>



<p>Managing cascade conflicts and selector specificity has often been considered one of the harder  or at least more confusing  aspects of CSS. That may be partly because few other languages rely on a cascade as their central feature, but its also true that the original cascade relies heavily on <em>heuristics</em> (an educated-guess or assumption built into the code) rather than providing direct and explicit control to web authors.</p>



<p><dfn>Selector specificity</dfn>, for example  our primary interaction with the cascade  is based on the assumption that more narrowly targeted styles (like IDs that are only used once) are likely more important than more generic and reusable styles (like classes and attributes). That is to say: how <em>specific</em> the selector is. Thats a good guess, but its not a totally reliable rule, and that causes some issues:</p>



<ul class="wp-block-list">
<li>It combines the act of <em>selecting elements</em>, with the act of <em>prioritizing rule-sets</em>.</li>



<li>The simplest way to fix a conflict with specificity is to escalate the problem by adding otherwise unnecessary selectors, or (gasp) <a href="https://css-tricks.com/when-using-important-is-the-right-choice/">throwing the</a> <a href="https://css-tricks.com/when-using-important-is-the-right-choice/"><code>!important</code> hand-grenade</a>.</li>
</ul>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">.overly#powerful .framework.widget {
  color: maroon;
}

.my-single_class { /* add some IDs to this ??? */
  color: rebeccapurple; /* add !important ??? */
}</code></pre>


<h4 class="wp-block-heading" id="solution-cascade-layers-provide-control"><a href="#aa-solution-cascade-layers-provide-control" aria-hidden="true" class="aal_anchor" id="aa-solution-cascade-layers-provide-control"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Solution: cascade layers provide control</h4>


<p><dfn>Cascade layers</dfn> give CSS authors more direct control over the cascade so we can build more intentionally cascading systems without relying as much on heuristic assumptions that are tied to selection.</p>



<p>Using the <code>@layer</code> at-rule and layered <code>@import</code>s, we can establish our own <em>layers of the cascade</em>  building from low-priority styles like resets and defaults, through themes, frameworks, and design systems, up to highest-priority styles, like components, utilities, and overrides. Specificity is still applied to conflicts <em>within each layer</em>, but conflicts between layers are always resolved by using the higher-priority layer styles.</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer framework {
  .overly#powerful .framework.widget {
    color: maroon;
  }
}

@layer site {
  .my-single_class {
    color: rebeccapurple;
  }
}</code></pre>



<p>These layers are ordered and grouped so that they dont escalate in the same way that specificity and importance can. Cascade layers arent cumulative like selectors. Adding <em>more layers</em> doesnt make something <em>more important</em>. Theyre also not binary like importance  suddenly jumping to the top of a stack  or numbered like <code>z-index</code>, where we have to guess a big number (<code>z-index:</code> <code>9999999</code>?). In fact, by default, layered styles are <em>less important</em> than un-layered styles.</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer defaults {
  a:any-link { color: maroon; }
}

/* un-layered styles have the highest priority */
a {
  color: mediumvioletred;
}</code></pre>


<h3 class="wp-block-heading" id="where-do-layers-fit-in-the-cascade"><a href="#aa-where-do-layers-fit-in-the-cascade" aria-hidden="true" class="aal_anchor" id="aa-where-do-layers-fit-in-the-cascade"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Where do layers fit in the cascade?</h3>


<p>The cascade is a series of steps (an algorithm) for resolving conflicts between styles.</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-9d6595d7 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">html { --button: teal; }
button { background: rebeccapurple !important; }
.warning { background: maroon; }</code></pre>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;button class="warning" style="background: var(--button);">
  what color background?
&lt;/button></code></pre>
</div>
</div>



<p>With the addition of cascade layers, those steps are:</p>



<img decoding="async" src="https://css-tricks.com/wp-content/uploads/2024/06/layers-tall-outlines3.svg" alt="Illustration of the various specificity levels of the CSS cascade and where CSS Cascade Layers fit in it." width="650">



<div style="height:26px" aria-hidden="true" class="wp-block-spacer"></div>



<p><em>Selector specificity</em> is only one small part of the cascade, but its also the step we interact with most, and is often used to refer more generally to overall <em>cascade priority</em>. People might say that the <code>!important</code> flag or the <code>style</code> attribute adds specificity  a quick way of expressing that the style becomes higher priority in the cascade. Since cascade layers have been added directly above specificity, its reasonable to think about them in a similar way: one step more powerful than ID selectors.</p>



<p>However, CSS Cascade Layers also make it more essential that we fully understand the role of <code>!important</code> in the cascade  not just as a tool for increasing specificity but as a system for balancing concerns.</p>


<h3 class="wp-block-heading" id="important-origins-context-and-layers-are-reversed"><a href="#aa-important-origins-context-and-layers-are-reversed" aria-hidden="true" class="aal_anchor" id="aa-important-origins-context-and-layers-are-reversed"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>!important</code> origins, context, and layers are reversed!</h3>


<p>As web authors, we often think of <code>!important</code> as a way of increasing specificity, to override inline styles or highly specific selectors. That works OK in most cases (if youre OK with the escalation) but it leaves out the primary purpose of <em>importance</em> as a feature in the overall cascade.</p>



<p>Importance isnt there to simply increase power  but to balance the power between various competing concerns.</p>


<h4 class="wp-block-heading" id="important-origins"><a href="#aa-important-origins" aria-hidden="true" class="aal_anchor" id="aa-important-origins"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Important origins</h4>


<p>It all starts with <dfn>origins</dfn>, where a style comes from in the web ecosystem. There are three basic origins in CSS:</p>



<ul class="wp-block-list">
<li>The <strong>browser</strong> (or user agent)</li>



<li>The <strong>user</strong> (often via browser preferences)</li>



<li>Web <strong>authors</strong> (thats us!)</li>
</ul>



<p>Browsers provide readable defaults for all the elements, and then users set their preferences, and then we (authors) provide the intended design for our web pages. So, by default, browsers have the lowest priority, user preferences override the browser defaults, and were able to override everyone.</p>



<p>But the creators of CSS were very clear that we should not actually have the final word:</p>



<blockquote class="wp-block-quote is-layout-flow wp-block-quote-is-layout-flow">
<p>If conflicts arise <strong>the user should have the last word</strong>, but one should also allow the author to attach style hints.</p>
<cite> Hkon Lie (emphasis added)</cite></blockquote>



<p>So <em>importance</em> provides a way for the browser and users to re-claim their priority when it matters most. When the <code>!important</code> flag is added to a style, three new layers are created  and the order is reversed!</p>



<ol class="wp-block-list">
<li><code>!important</code> browser styles (most powerful)</li>



<li><code>!important</code> user preferences</li>



<li><code>!important</code> author styles</li>



<li>normal author styles</li>



<li>normal user preferences</li>



<li>normal browser styles (least powerful)</li>
</ol>



<p>For us, adding <code>!important</code> doesnt change much  our important styles are pretty close to our normal styles  but for the browser and user its a very powerful tool for regaining control. Browser default style sheets include a number of important styles that it would be impossible for us to override, such as:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">iframe:fullscreen {
  /* iframes in full-screen mode don't show a border. */
  border: none !important;
  padding: unset !important;
}</code></pre>



<p>While most of the popular browsers have made it difficult to upload actual user stylesheets, they all offer user preferences: a graphic interface for establishing specific user styles. In that interface, there is always a checkbox available for users to choose if a site is allowed to override their preferences or not. This is the same as setting <code>!important</code> in a user stylesheet:</p>



<figure class="wp-block-image size-full"><img data-recalc-dims="1" fetchpriority="high" decoding="async" width="1320" height="996" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1320%2C996&#038;ssl=1" alt="Screenshot of user font preferences." class="wp-image-363777" srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?w=1320&amp;ssl=1 1320w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=300%2C226&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1024%2C773&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=768%2C579&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643829199568_ScreenShot2022-02-02at12.11.33PM.jpg?resize=1000%2C755&amp;ssl=1 1000w" sizes="(min-width: 735px) 864px, 96vw" /></figure>


<h4 class="wp-block-heading" id="important-context"><a href="#aa-important-context" aria-hidden="true" class="aal_anchor" id="aa-important-context"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Important context</h4>


<p>The same basic logic is applied to <em>context</em> in the cascade. By default, styles from the host document (light DOM) override styles from an embedded context (shadow DOM). However, adding <code>!important</code> reverses the order:</p>



<ol class="wp-block-list">
<li><code>!important</code> shadow context (most powerful)</li>



<li><code>!important</code> host context</li>



<li>normal host context</li>



<li>normal shadow context (least powerful)</li>
</ol>



<p>Important styles that come from inside a shadow context override important styles defined by the host document. Heres an <code>odd-bird</code> <a href="https://css-tricks.com/an-introduction-to-web-components/">custom element</a> with some styles written in the element template (shadow DOM), and some styles in the host page (light DOM) stylesheet:</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_RwjRrEE" src="//codepen.io/anon/embed/RwjRrEE?height=450&amp;theme-id=1&amp;slug-hash=RwjRrEE&amp;default-tab=css,result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed RwjRrEE" title="CodePen Embed RwjRrEE" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>Both <code>color</code> declarations have normal importance, and so the host page <code>mediumvioletred</code> takes priority. But the <code>font-family</code> declarations are flagged <code>!important</code>, giving advantage to the shadow-context, where <code>fantasy</code> is defined.</p>


<h4 class="wp-block-heading" id="important-layers"><a href="#aa-important-layers" aria-hidden="true" class="aal_anchor" id="aa-important-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Important layers</h4>


<p>Cascade layers work the same way as both origins and context, with the important layers in reverse-order. The only difference is that layers make that behavior much more noticeable.</p>



<p>Once we start using cascade layers, we will need to be much more cautious and intentional about how we use <code>!important</code>. Its no longer a quick way to jump to the top of the priorities  but an integrated part of our cascade layering; a way for lower layers to <em>insist</em> that some of their styles are essential.</p>



<p>Since cascade layers are customizable, theres no pre-defined order. But we can imagine starting with three layers:</p>



<ol class="wp-block-list">
<li>utilities (most powerful)</li>



<li>components</li>



<li>defaults (least powerful)</li>
</ol>



<p>When styles in those layers are marked as important, they would generate three new, reversed important layers:</p>



<ol class="wp-block-list">
<li><code>!important</code> defaults (most powerful)</li>



<li><code>!important</code> components</li>



<li><code>!important</code> utilities</li>



<li>normal utilities</li>



<li>normal components</li>



<li>normal defaults (least powerful)</li>
</ol>



<p>In this example, the color is defined by all three normal layers, and the <code>utilities</code> layer wins the conflict, applying the <code>maroon</code> color, as the <code>utilities</code> layer has a higher priority in <code>@layers</code>. But notice that the <code>text-decoration</code> property is marked <code>!important</code> in both the <code>defaults</code> and <code>components</code> layers, where important <code>defaults</code> take priority, applying the underline declared by <code>defaults</code>:</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_mdqEEzB" src="//codepen.io/anon/embed/mdqEEzB?height=450&amp;theme-id=1&amp;slug-hash=mdqEEzB&amp;default-tab=css,result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed mdqEEzB" title="CodePen Embed mdqEEzB" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>


<h3 class="wp-block-heading" id="establishing-a-layer-order"><a href="#aa-establishing-a-layer-order" aria-hidden="true" class="aal_anchor" id="aa-establishing-a-layer-order"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Establishing a layer order</h3>


<p>We can create any number of layers and name them or group them in various ways. But the most important thing to do is to make sure our layers are applied in the right order of priority.</p>



<p>A single layer can be used multiple times throughout the codebase  cascade layers stack in the order they <em>first appear</em>. The first layer encountered sits at the bottom (least powerful), and the last layer at the top (most powerful). But then, above that, <strong>un-layered styles have the highest priority</strong>:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer layer-1 { a { color: red; } }
@layer layer-2 { a { color: orange; } }
@layer layer-3 { a { color: yellow; } }
/* un-layered */ a { color: green; }</code></pre>



<ol class="wp-block-list">
<li>un-layered styles (most powerful)</li>



<li>layer-3</li>



<li>layer-2</li>



<li>layer-1 (least powerful)</li>
</ol>



<p>Then, as discussed above, any important styles are applied in a reverse order:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer layer-1 { a { color: red !important; } }
@layer layer-2 { a { color: orange !important; } }
@layer layer-3 { a { color: yellow !important; } }
/* un-layered */ a { color: green !important; }</code></pre>



<ol class="wp-block-list">
<li><code>!important</code> layer-1 (most powerful)</li>



<li><code>!important</code> layer-2</li>



<li><code>!important</code> layer-3</li>



<li><code>!important</code> un-layered styles</li>



<li>normal un-layered styles</li>



<li>normal layer-3</li>



<li>normal layer-2</li>



<li>normal layer-1 (least powerful)</li>
</ol>



<p>Layers can also be grouped, allowing us to do more complicated sorting of top-level and nested layers:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer layer-1 { a { color: red; } }
@layer layer-2 { a { color: orange; } }
@layer layer-3 {
  @layer sub-layer-1 { a { color: yellow; } }
  @layer sub-layer-2 { a { color: green; } }
  /* un-nested */ a { color: blue; }
}
/* un-layered */ a { color: indigo; }</code></pre>



<ol class="wp-block-list">
<li>un-layered styles (most powerful)</li>



<li>layer-3
<ol class="wp-block-list">
<li>layer-3 un-nested</li>



<li>layer-3 sub-layer-2</li>



<li>layer-3 sub-layer-1</li>
</ol>
</li>



<li>layer-2</li>



<li>layer-1 (least powerful)</li>
</ol>



<p class="is-style-explanation">Grouped layers always stay together in the final layer order (for example, sub-layers of layer-3 will all be next to each other), but this otherwise behaves the same as if the list was flattened  turning this into a single six-item list. When reversing <code>!important</code> layer order, the entire list flattened is reversed.</p>



<p>But layers dont have to be defined once in a single location. We give them names so that layers can be defined in one place (to establish layer order), and then we can append styles to them from anywhere:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* describe the layer in one place */
@layer my-layer;

/* append styles to it from anywhere */
@layer my-layer { a { color: red; } }</code></pre>



<p>We can even define a whole ordered list of layers in a single declaration:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer one, two, three, four, five, etc;</code></pre>



<p>This makes it possible for the author of a site to have final say over the layer order. By providing a layer order up-front, before any third party code is imported, the order can be established and rearranged in one place without worrying about how layers are used in any third-party tool.</p>


<h3 class="wp-block-heading" id="syntax-working-with-cascade-layers"><a href="#aa-syntax-working-with-cascade-layers" aria-hidden="true" class="aal_anchor" id="aa-syntax-working-with-cascade-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax: Working with cascade layers</h3>


<p>Lets take a look at the syntax!</p>


<h4 class="wp-block-heading" id="order-setting-layer-statements"><a href="#aa-order-setting-layer-statements" aria-hidden="true" class="aal_anchor" id="aa-order-setting-layer-statements"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Order-setting <code>@layer</code> statements</h4>


<p>Since layers are stacked in the order they are defined, its important that we have a tool for establishing that order all in one place!</p>



<p>We can use <code>@layer</code> statements to do that. The syntax is:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer &lt;layer-name>#;</code></pre>



<p>That hash (<code>#</code>) means we can add as many layer names as we want in a comma-separated list:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset, defaults, framework, components, utilities;</code></pre>



<p>That will establish the layer order:</p>



<ol class="wp-block-list">
<li>un-layered styles (most powerful)</li>



<li>utilities</li>



<li>components</li>



<li>framework</li>



<li>defaults</li>



<li>reset (least powerful)</li>
</ol>



<p>We can do this as many times as we want, but remember: what matters is the order each name <em>first appears</em>. So this will have the same result:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset, defaults, framework;
@layer components, defaults, framework, reset, utilities;</code></pre>



<p>The ordering logic will ignore the order of <code>reset</code>, <code>defaults</code>, and <code>framework</code> in the second <code>@layer</code> rule because those layers have already been established. This <code>@layer</code> list syntax doesnt add any special magic to the layer ordering logic: layers are stacked based on <em>the order in which the layers first appear in your code</em>. In this case, <code>reset</code> appears first in the first <code>@layer</code> list. Any <code>@layer</code> statement that comes later can only append layer names to the list, <em>but cant move layers that already exist</em>. This ensures that you can always control the final overall layer order from one location  at the very start of your styles.</p>



<p>These layer-ordering statements are allowed at the top of a stylesheet, before the <code>@import</code> rule (but not between imports). We highly recommend using this feature to establish all your layers up-front in a single place so you always know where to look or make changes.</p>


<h4 class="wp-block-heading" id="block-layer-rules"><a href="#aa-block-layer-rules" aria-hidden="true" class="aal_anchor" id="aa-block-layer-rules"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Block <code>@layer</code> rules</h4>


<p>The block version of the <code>@layer</code> rule only takes a single layer name, but then allows you to add styles to that layer:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer &lt;layer-name> {
  /* styles added to the layer */
}</code></pre>



<p>You can put most things inside an <code>@layer</code> block  media queries, selectors and styles, support queries, etc. The only things you cant put inside a layer block are things like charset, imports, and namespaces. But dont worry, there is a syntax for importing styles into a layer.</p>



<p>If the layer name hasnt been established before, this layer rule will add it to the layer order. But if the name has been established, this allows you to add styles to existing layers from anywhere in the document  without changing the priority of each layer.</p>



<p>If weve established our layer-order up-front with the layer statement rule, we no longer need to worry about the order of these layer blocks:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* establish the order up-front */
@layer defaults, components, utilities;

/* add styles to layers in any order */
@layer utilities {
  [hidden] { display: none; }
}

/* utilities will override defaults, based on established order */
@layer defaults {
  * { box-sizing: border-box; }
  img { display: block; }
}</code></pre>


<h4 class="wp-block-heading" id="grouping-nested-layers"><a href="#aa-grouping-nested-layers" aria-hidden="true" class="aal_anchor" id="aa-grouping-nested-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Grouping (nested) layers</h4>


<p>Layers can be grouped, by nesting layer rules:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer one {
  /* sorting the sub-layers */
  @layer two, three;

  /* styles ... */
  @layer three { /* styles ... */ }
  @layer two { /* styles ... */ }
}</code></pre>



<p>This generates grouped layers that can be represented by joining the parent and child names with a period. That means the resulting sub-layers can also be accessed directly from outside the group:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* sorting nested layers directly */
@layer one.two, one.three;

/* adding to nested layers directly */
@layer one.three { /* ... */ }
@layer one.two { /* ... */ }</code></pre>



<p>The rules of layer-ordering apply at each level of nesting. Any styles that are not further nested are considered un-layered in that context, and have priority over further nested styles:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer defaults {
  /* un-layered defaults (higher priority) */
  :any-link { color: rebeccapurple; }

  /* layered defaults (lower priority) */
  @layer reset {
    a[href] { color: blue; }
  }
}</code></pre>



<p>Grouped layers are also contained within their parent, so that the layer order does not intermix across groups. In this example, the top level layers are sorted first, and then the layers are sorted within each group:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset.type, default.type, reset.media, default.media;</code></pre>



<p>Resulting in a layer order of:</p>



<ul class="wp-block-list">
<li><em>un-layered</em> (most powerful)</li>



<li>default group
<ul class="wp-block-list">
<li>default <em>un-layered</em></li>



<li>default.media</li>



<li>default.type</li>
</ul>
</li>



<li>reset group
<ul class="wp-block-list">
<li>reset <em>un-layered</em></li>



<li>reset.media</li>



<li>reset.type</li>
</ul>
</li>
</ul>



<p>Note that layer names are also scoped so that they dont interact or conflict with similarly-named layers outside their nested context. Both groups can have distinct <code>media</code> sub-layers.</p>



<p>This grouping becomes especially important when using <code>@import</code> or <code>&lt;link&gt;</code> to layer entire stylesheets. A third-party tool, like <a href="https://getbootstrap.com" rel="noopener">Bootstrap</a>, could use layers internally  but we can nest those layers into a shared <code>bootstrap</code> layer-group on import, to avoid potential layer-naming conflicts.</p>


<h4 class="wp-block-heading" id="layering-entire-stylesheets-with-import-or-link"><a href="#aa-layering-entire-stylesheets-with-import-or-link" aria-hidden="true" class="aal_anchor" id="aa-layering-entire-stylesheets-with-import-or-link"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Layering entire stylesheets with <code>@import</code> or <code>&lt;link&gt;</code></h4>


<p>Entire stylesheets can be added to a layer using the new <code>layer()</code> function syntax with <code>@import</code> rules:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* styles imported into to the &lt;layer-name> layer */
@import url('example.css') layer(&lt;layer-name>);</code></pre>



<p>There is also a proposal to add a <code>layer</code> attribute in the HTML <code>&lt;link&gt;</code> element  although this is still under development, and <a href="https://css.oddbird.net/layers/guide/#assigning-layers-in-html-with-the-link-tag" rel="noopener">not yet supported anywhere</a>. This can be used to import third-party tools or component libraries, while grouping any internal layers together under a single layer name  or as a way of organizing layers into distinct files.</p>


<h4 class="wp-block-heading" id="anonymous-un-named-layers"><a href="#aa-anonymous-un-named-layers" aria-hidden="true" class="aal_anchor" id="aa-anonymous-un-named-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Anonymous (un-named) layers</h4>


<p><dfn>Layer names</dfn> are helpful as they allow us to access the same layer from multiple places for sorting or combining layer blocks  but they are not required.</p>



<p>Its possible to create <em>anonymous</em> (un-named) layers using the block layer rule:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer { /* ... */ }
@layer { /* ... */ }</code></pre>



<p>Or using the import syntax, with a <code>layer</code> keyword in place of the <code>layer()</code> function:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* styles imported into to a new anonymous layer */
@import url('../example.css') layer;</code></pre>



<p>Each anonymous layer is unique, and added to the layer order where it is encountered. Anonymous layers cant be referenced from other layer rules for sorting or appending more styles.</p>



<p>These should probably be used sparingly, but there might be a few use cases:</p>



<ul class="wp-block-list">
<li>Projects could ensure that all styles for a given layer are required to be located in a single place.</li>



<li>Third-party tools could hide their internal layering inside anonymous layers so that they dont become part of the tools public API.</li>
</ul>


<h4 class="wp-block-heading" id="reverting-values-to-the-previous-layer"><a href="#aa-reverting-values-to-the-previous-layer" aria-hidden="true" class="aal_anchor" id="aa-reverting-values-to-the-previous-layer"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reverting values to the previous layer</h4>


<p>There are several ways that we can use to &#8220;revert&#8221; a style in the cascade to a previous value, defined by a lower priority origin or layer. That includes a number of existing global CSS values, and a new <code>revert-layer</code> keyword that will also be global (works on any property).</p>


<h5 class="wp-block-heading" id="context-existing-global-cascade-keywords"><a href="#aa-context-existing-global-cascade-keywords" aria-hidden="true" class="aal_anchor" id="aa-context-existing-global-cascade-keywords"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Context: Existing global cascade keywords*</h5>


<p>CSS has several <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/all#values" rel="noopener">global keywords</a> which can be used on any property to help roll-back the cascade in various ways.</p>



<ul class="wp-block-list">
<li><code><strong>initial</strong></code> sets a property to the <em>specified</em> value before any styles (including browser defaults) are applied. This can be surprising as we often think of browser styles as the initial value  but, for example, the <code>initial</code> value of <code>display</code> is <code>inline</code>, no matter what element we use it on.</li>



<li><code><strong>inherit</strong></code> sets the property to apply a value from its parent element. This is the default for inherited properties, but can still be used to remove a previous value.</li>



<li><code><strong>unset</strong></code> acts as though simply removing all previous values  so that inherited properties once again <code>inherit</code>, while non-inherited properties return to their <code>initial</code> value.</li>



<li><code><strong>revert</strong></code> only removes values that weve applied in the author origin (i.e. the site styles). This is what we want in most cases, since it allows the browser and user styles to remain intact.</li>
</ul>


<h5 class="wp-block-heading" id="new-the-revert-layer-keyword"><a href="#aa-new-the-revert-layer-keyword" aria-hidden="true" class="aal_anchor" id="aa-new-the-revert-layer-keyword"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New: the <code>revert-layer</code> keyword</h5>


<p>Cascade layers add a new global <code>revert-layer</code> keyword. It works the same as <code>revert</code>, but only removes values that weve applied in the current cascade layer. We can use that to roll back the cascade, and use whatever value was defined in the previous layers.</p>



<p>In this example, the <code>no-theme</code> class removes any values set in the <code>theme</code> layer.</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer default {
  a { color: maroon; }
}

@layer theme {
  a { color: var(--brand-primary, purple); }

  .no-theme {
    color: revert-layer;
  }
}</code></pre>



<p>So a link tag with the <code>.no-theme</code> class will roll back to use the value set in the <code>default</code> layer. When <code>revert-layer</code> is used in un-layered styles, it behaves the same as <code>revert</code>  rolling back to the previous origin.</p>


<h5 class="wp-block-heading" id="reverting-important-layers"><a href="#aa-reverting-important-layers" aria-hidden="true" class="aal_anchor" id="aa-reverting-important-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reverting important layers</h5>


<p>Things get interesting if we add <code>!important</code> to the <code>revert-layer</code> keyword. Because each layer has two distinct normal and important <a href="https://css.oddbird.net/layers/guide/#important-layers" rel="noopener">positions in the cascade</a>, this doesnt simply change the priority of the declaration  it changes what layers are reverted.</p>



<p>Lets assume we have three layers defined, in a layer stack that looks like this:</p>



<ol class="wp-block-list">
<li>utilities (most powerful)</li>



<li>components</li>



<li>defaults (least powerful)</li>
</ol>



<p>We can flesh that out to include not just normal and important positions of each layer, but also un-layered styles, and animations:</p>



<ol class="wp-block-list">
<li><code>!important</code> defaults (most powerful)</li>



<li><code>!important</code> components</li>



<li><code>!important</code> utilities</li>



<li><code>!important</code> un-layered styles</li>



<li>CSS animations</li>



<li>normal un-layered styles</li>



<li>normal utilities</li>



<li>normal components</li>



<li>normal defaults (least powerful)</li>
</ol>



<p>Now, when we use <code>revert-layer</code> in a normal layer (lets use <code>utilities</code>) the result is fairly direct. We revert <em>only that layer</em>, while everything else applies normally:</p>



<ol class="wp-block-list">
<li>&#x2705; <code>!important</code> defaults (most powerful)</li>



<li>&#x2705; <code>!important</code> components</li>



<li>&#x2705; <code>!important</code> utilities</li>



<li>&#x2705; <code>!important</code> un-layered styles</li>



<li>&#x2705; CSS animations</li>



<li>&#x2705; normal un-layered styles</li>



<li>&#x274c; normal utilities</li>



<li>&#x2705; normal components</li>



<li>&#x2705; normal defaults (least powerful)</li>
</ol>



<p>But when we move that <code>revert-layer</code> into the important position, we revert both the normal and important versions <em>along with everything in-between</em>:</p>



<ol class="wp-block-list">
<li>&#x2705; <code>!important</code> defaults (most powerful)</li>



<li>&#x2705; <code>!important</code> components</li>



<li>&#x274c; <code>!important</code> utilities</li>



<li>&#x274c; <code>!important</code> un-layered styles</li>



<li>&#x274c; CSS animations</li>



<li>&#x274c; normal un-layered styles</li>



<li>&#x274c; normal utilities</li>



<li>&#x2705; normal components</li>



<li>&#x2705; normal defaults (least powerful)</li>
</ol>


<h3 class="wp-block-heading" id="use-cases-when-would-i-want-to-use-cascade-layers"><a href="#aa-use-cases-when-would-i-want-to-use-cascade-layers" aria-hidden="true" class="aal_anchor" id="aa-use-cases-when-would-i-want-to-use-cascade-layers"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use cases: When would I want to use cascade layers?</h3>


<p>So what sort of situations might we find ourselves using cascade layers? Here are several examples of when cascade layers make a lot of sense, as well as others where they <em>do not</em> make a lot sense.</p>


<h4 class="wp-block-heading" id="less-intrusive-resets-and-defaults"><a href="#aa-less-intrusive-resets-and-defaults" aria-hidden="true" class="aal_anchor" id="aa-less-intrusive-resets-and-defaults"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Less intrusive resets and defaults</h4>


<p>One of the clearest initial use cases would be to make low-priority defaults that are easy to override.</p>



<p>Some resets have been doing this already by applying the <code>:where()</code> pseudo-class around each selector. <code>:where()</code> removes all specificity from the selectors it is applied to, which has the basic impact desired, but also some downsides:</p>



<ul class="wp-block-list">
<li>It has to be applied to each selector individually</li>



<li>Conflicts inside the reset have to be resolved without specificity</li>
</ul>



<p>Layers allow us to more simply wrap the entire reset stylesheet, either using the block <code>@layer</code> rule:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* reset.css */
@layer reset {
  /* all reset styles in here */
}</code></pre>



<p>Or when you import the reset:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">/* reset.css */
@import url(reset.css) layer(reset);</code></pre>



<p class="is-style-explanation">Or both! Layers can be nested without changing their priority. This way, you can use a third-party reset, and ensure it gets added to the layer you want whether or not the reset stylesheet itself is written using layers internally.</p>



<p>Since layered styles have a lower priority than default un-layered styles, this is a good way to start using cascade layers without re-writing your entire CSS codebase.</p>



<p>The reset selectors still have specificity information to help resolve internal conflicts, without wrapping each individual selector  but you also get the desired outcome of a reset stylesheet that is easy to override.</p>


<h4 class="wp-block-heading" id="managing-a-complex-css-architecture"><a href="#aa-managing-a-complex-css-architecture" aria-hidden="true" class="aal_anchor" id="aa-managing-a-complex-css-architecture"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Managing a complex CSS architecture</h4>


<p>As projects become larger and more complex, it can be useful to define clearer boundaries for naming and organizing CSS code. But the more CSS we have, the more potential we have for conflicts  especially from different parts of a system like a theme or a component library or a set of utility classes.</p>



<p>Not only do we want these organized by function, but it can also be useful to organize them based on what parts of the system take priority in the case of a conflict. <a href="https://csswizardry.com/2018/11/itcss-and-skillshare/" rel="noopener">Harry Roberts Inverted Triangle CSS</a> does a good job visualizing what those layers might contain.</p>



<figure class="wp-block-image is-resized ticss-818e5b53"><img decoding="async" src="https://paper-attachments.dropbox.com/s_B537A5BED99F493B05AC662831B02D71D0E588F0E159BD62B299D5F9F4173CB4_1644605716738_itcss-layers2.svg" alt="" style="width:650px;height:389px"/></figure>



<p>In fact, the initial pitch for adding layers to the CSS cascade used the ITCSS methodology as a primary example, and a guide for developing the feature.</p>



<p>There is no particular technique required for this, but its likely helpful to restrict projects to a pre-defined set of top-level layers and then extend that set with nested layers as appropriate.</p>



<p>For example:</p>



<ol class="wp-block-list">
<li><strong>low level reset</strong> and normalization styles</li>



<li><strong>element defaults</strong>, for basic typography and legibility</li>



<li><strong>themes</strong>, like light and dark modes</li>



<li><strong>re-usable patterns</strong> that might appear across multiple components</li>



<li><strong>layouts</strong> and larger page structures</li>



<li>individual <strong>components</strong></li>



<li><strong>overrides</strong> and <strong>utilities</strong></li>
</ol>



<p>We can create that top-level layer stack at the very start of our CSS, with a single layer statement:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer
  reset,
  default,
  themes,
  patterns,
  layouts,
  components,
  utilities;</code></pre>



<p>The exact layers needed, and how you name those layers, might change from one project to the next.</p>



<p>From there, we create even more detailed layer breakdowns. Maybe our components themselves have defaults, structures, themes, and utilities internally.</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer components {
  @layer defaults, structures, themes, utilities;
}</code></pre>



<p>Without changing the top-level structure, we now have a way to further layer the styles within each component.</p>


<h4 class="wp-block-heading" id="using-third-party-tools-and-frameworks"><a href="#aa-using-third-party-tools-and-frameworks" aria-hidden="true" class="aal_anchor" id="aa-using-third-party-tools-and-frameworks"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using third-party tools and frameworks</h4>


<p>Integrating third-party CSS with a project is one of the most common places to run into cascade issues. Whether were using a shared reset like Normalizer or CSS Remedy, a generic design system like Material Design, a framework like Bootstrap, or a utility toolkit like Tailwind  we cant always control the selector specificity or importance of all the CSS being used on our sites. Sometimes, this even extends to internal libraries, design systems, and tools managed elsewhere in an organization.</p>



<p>As a result, we often have to structure our internal CSS around the third-party code, or escalate conflicts when they come up  with artificially high specificity or <code>!important</code> flags. And then we have to maintain those hacks over time, adapting to upstream changes.</p>



<p>Cascade layers give us a way to slot third-party code into the cascade of any project exactly where we want it to live  no matter how selectors are written internally. Depending on the type of library were using, we might do that in various ways. Lets start with a basic layer-stack, working our way up from resets to utilities:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset, type, theme, components, utilities;</code></pre>



<p>And then we can incorporate some tools</p>


<h5 class="wp-block-heading" id="using-a-reset"><a href="#aa-using-a-reset" aria-hidden="true" class="aal_anchor" id="aa-using-a-reset"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using a reset</h5>


<p>If were using a tool like <a href="https://css-tricks.com/css-remedy/">CSS Remedy</a>, we might also have some reset styles of our own that we want to include. Lets import CSS Remedy into a sub-layer of <code>reset</code>:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@import url('remedy.css') layer(reset.remedy);</code></pre>



<p>Now we can add our own reset styles to the <code>reset</code> layer, without any further nesting (unless we want it). Since styles directly in <code>reset</code> will override any further nested styles, we can be sure our styles will always take priority over CSS Remedy if theres a conflict  no matter what changes in a new release:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@import url('remedy.css') layer(reset.remedy);

@layer reset {
  :is(ol, ul)[role='list'] {
    list-style: none;
    padding-inline-start: 0;
  }
}</code></pre>



<p>And since the <code>reset</code> layer is at the bottom of the stack, the rest of the CSS in our system will override both Remedy, and our own local reset additions.</p>


<h5 class="wp-block-heading" id="using-utility-classes"><a href="#aa-using-utility-classes" aria-hidden="true" class="aal_anchor" id="aa-using-utility-classes"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using utility classes</h5>


<p>At the other end of our stack, utility classes in CSS can be a useful way to reproduce common patterns (like additional context for screen readers) in a broadly-applicable way. Utilities tend to break the specificity heuristic, since we want them defined broadly (resulting in a low specificity), but we also generally want them to win conflicts.</p>



<p>By having a <code>utilities</code> layer at the top of our layer stack, we can make that possible. We can use that in a similar way to the reset example, both loading external utilities into a sub-layer, and providing our own:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@import url('tailwind.css') layer(utilities.tailwind);

@layer utilities {
  /* from https://kittygiraudel.com/snippets/sr-only-class/ */
  /* but with !important removed from the properties */
  .sr-only {
    border: 0;
    clip: rect(1px, 1px, 1px, 1px);
    -webkit-clip-path: inset(50%);
    clip-path: inset(50%);
    height: 1px;
    overflow: hidden;
    margin: -1px;
    padding: 0;
    position: absolute;
    width: 1px;
    white-space: nowrap;
  }
}</code></pre>


<h5 class="wp-block-heading" id="using-design-systems-and-component-libraries"><a href="#aa-using-design-systems-and-component-libraries" aria-hidden="true" class="aal_anchor" id="aa-using-design-systems-and-component-libraries"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using design systems and component libraries</h5>


<p>There are a lot of CSS tools that fall somewhere in the middle of our layer stack  combining typography defaults, themes, components, and other aspects of a system.</p>



<p>Depending on the particular tool, we might do something similar to the reset and utility examples above  but there are a few other options. A highly integrated tool might deserve a top-level layer:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset, bootstrap, utilities;
@import url('bootstrap.css') layer(bootstrap);</code></pre>



<p>If these tools start to provide layers as part of their public API, we could also break it down into parts  allowing us to intersperse our code with the library:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@import url('bootstrap/reset.css') layer(reset.bootstrap);
@import url('bootstrap/theme.css') layer(theme.bootstrap);
@import url('bootstrap/components.css') layer(components.bootstrap);

@layer theme.local {
  /* styles here will override theme.bootstrap */
  /* but not interfere with styles from components.bootstrap */
}</code></pre>


<h4 class="wp-block-heading" id="using-layers-with-existing-un-layered-important-filled-frameworks"><a href="#aa-using-layers-with-existing-un-layered-important-filled-frameworks" aria-hidden="true" class="aal_anchor" id="aa-using-layers-with-existing-un-layered-important-filled-frameworks"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using layers with existing (un-layered, !important-filled) frameworks</h4>


<p>As with any major language change, theres going to be an adjustment period when CSS Cascade Layers become widely adopted. What happens if your team is ready to start using layers next month, but your favorite framework decides to wait another three years before they switch over to layered styles? Many frameworks will likely still use <code>!important</code> more often than we&#8217;d like! With <code>!important</code> layers reversed, thats not ideal.</p>



<p>Still, layers can still help us solve the problem. We just have to get clever about it. We decide what layers we want for our project, and that means we can add layers above <em>and</em> also below the framework layers we create.</p>



<p>For now, though, we can use a lower layer to override <code>!important</code> styles from the framework, and a higher layer to override normal styles. Something like this:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer framework.important, framework.bootstrap, framework.local;
@import url('bootstrap.css') layer(framework.bootstrap);

@layer framework.local {
  /* most of our normal framework overrides can live here */
}

@layer framework.important {
  /* add !important styles in a lower layer */
  /* to override any !important framework styles */
}</code></pre>



<p>It still feels like a bit of a hack, but it helps move us in the right direction  towards a more structured cascade. Hopefully its a temporary fix.</p>


<h4 class="wp-block-heading" id="designing-a-css-tool-or-framework"><a href="#aa-designing-a-css-tool-or-framework" aria-hidden="true" class="aal_anchor" id="aa-designing-a-css-tool-or-framework"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Designing a CSS tool or framework</h4>


<p>For anyone maintaining a CSS library, cascade layers can help with internal organization, and even become part of the developer API. By naming internal layers of a library, we can allow users of our framework to hook into those layers when customizing or overriding our provided styles.</p>



<p>For example, Bootstrap could expose layers for their reboot, grid, and utilities  likely stacked in that order. Now a user can decide if they want to load those Bootstrap layers into different local layers:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@import url(bootstrap/reboot.css) layer(reset); /* reboot  reset.reboot */
@import url(bootstrap/grid.css) layer(layout); /* grid  layout.grid */
@import url(bootstrap/utils.css) layer(override); /* utils  override.utils */</code></pre>



<p>Or the user might load them into a Bootstrap layer, with local layers interspersed:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer bs.reboot, bs.grid, bs.grid-overrides, bs.utils, bs.util-overrides;
@import url('bootstrap-all.css') layer(bs);</code></pre>



<p>Its also possible to hide internal layering from users, when desired, by grouping any private/internal layers inside an anonymous (un-named) layer. Anonymous layers will get added to the layer order where they are encountered, but will not be exposed to users re-arranging or appending styles.</p>


<h4 class="wp-block-heading" id="i-just-want-this-one-property-to-be-more-important"><a href="#aa-i-just-want-this-one-property-to-be-more-important" aria-hidden="true" class="aal_anchor" id="aa-i-just-want-this-one-property-to-be-more-important"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>I just want this one property to be more <code>!important</code></h4>


<p>Counter to some expectations, layers dont make it easy to quickly escalate a particular style so that it overrides another.</p>



<p>If the majority of our styles are un-layered, then any new layer will be <em>de-prioritized</em> in relation to the default. We could do that to individual style blocks, but it would quickly become difficult to track.</p>



<p>Layers are intended to be more foundational, not style-by-style, but establishing consistent patterns across a project. Ideally, if weve set that up right, we get the correct result by moving our style to the appropriate (and pre-defined) layer.</p>



<div class="wp-block-group ticss-27d72f02 has-white-color has-text-color has-background" style="background:linear-gradient(135deg,rgb(31,31,31) 0%,rgb(84,88,93) 100%)"><div class="wp-block-group__inner-container is-layout-flow wp-block-group-is-layout-flow">
<p>If the majority of our styles already fall into well-defined layers, we can always consider adding a new highest-power layer at the top of a given stack, or using un-layered styles to override the layers. We might even consider having a <code>debug</code> layer at the top of the stack, for doing exploratory work outside of production.</p>
</div></div>



<p>But adding new layers on-the-fly can defeat the organizational utility of this feature, and should be used carefully. Its best to ask: <em>Why should this style override the other?</em></p>



<p>If the answer has to do with one <em>type of style</em> always overriding another type, layers are probably the right solution. That might be because were overriding styles that come from a place we dont control, or because were writing a utility, and it should move into our <code>utilities</code> layer. If the answer has to do with more targeted styles overriding less targeted styles, we might consider making the selectors reflect that specificity.</p>



<p>Or, on rare occasions, we might even have styles that really are <em>important</em>  the feature simply doesnt work if you override this particular style. We might say adding <code>display: none</code> to the <code>[hidden]</code> attribute belongs in our lowest-priority reset, but should still be hard to override. In that case, <code>!important</code> really is the right tool for the job:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer reset {
  [hidden] { display: none !important; }
}</code></pre>


<h4 class="wp-block-heading" id="scoping-and-name-spacing-styles-nope"><a href="#aa-scoping-and-name-spacing-styles-nope" aria-hidden="true" class="aal_anchor" id="aa-scoping-and-name-spacing-styles-nope"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scoping and name-spacing styles? Nope!</h4>


<p>Cascade layers are clearly an organizational tool, and one that captures the impact of selectors, especially when they conflict. So it can be tempting at first glance to see them as a solution for managing scope or name-spacing.</p>



<p>A common first-instinct is to create a layer for each component in a project  hoping that will ensure (for example) that <code>.post-title</code> is only applied inside a <code>.post</code>.</p>



<p>But cascade conflicts are not the same as naming conflicts, and layers arent particularly well designed for this type of scoped organization. Cascade layers dont constrain how selectors match or apply to the HTML, only how they cascade together. So unless we can be sure that component X <em>always</em> override component Y, individual component layers wont help much. Instead, well need to keep an eye on the <a href="https://www.w3.org/TR/css-cascade-6/" rel="noopener">proposed <code>@scope</code> spec</a> that is being developed.</p>



<p>It can be useful to think of layers and component-scopes instead as overlapping concerns:</p>



<figure class="wp-block-image size-large ticss-7bab32e4"><img data-recalc-dims="1" decoding="async" width="1024" height="711" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/layers-scope-01-1024x711.png?resize=1024%2C711&#038;ssl=1" alt="An illustration showing how CSS Cascade Layers can be organized by scope, such as buttons, cards, and login layers that fall into component, theme, and default scopes." class="wp-image-364132" srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/layers-scope-01.png?resize=1024%2C711&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/layers-scope-01.png?resize=300%2C208&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/layers-scope-01.png?resize=768%2C533&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/layers-scope-01.png?resize=1000%2C694&amp;ssl=1 1000w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/layers-scope-01.png?w=1164&amp;ssl=1 1164w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p><dfn>Scopes</dfn> describe <em>what</em> we are styling, while layers describe <em>why</em> we are styling. We can also think of layers as representing <em>where the style comes from</em>, while scopes represent <em>what the style will attach to</em>.</p>


<h3 class="wp-block-heading" id="test-your-knowledge-which-style-wins"><a href="#aa-test-your-knowledge-which-style-wins" aria-hidden="true" class="aal_anchor" id="aa-test-your-knowledge-which-style-wins"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Test your knowledge: Which style wins?</h3>


<p>For each situation, assume this paragraph:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;p id="intro">Hello, World!&lt;/p></code></pre>


<h4 class="wp-block-heading" id="question-1"><a href="#aa-question-1" aria-hidden="true" class="aal_anchor" id="aa-question-1"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Question 1</h4>


<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer ultra-high-priority {
  #intro {
    color: red;
  }
}

p {
  color: green;
}</code></pre>



<details >
  <summary>
          What color is the paragraph?      </summary>
  

<p>Despite the layer having a name that <em>sounds pretty important</em>, un-layered styles have a higher priority in the cascade. So the paragraph will be <code>green</code>.</p>


</details>

<h4 class="wp-block-heading" id="question-2"><a href="#aa-question-2" aria-hidden="true" class="aal_anchor" id="aa-question-2"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Question 2</h4>


<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer ren, stimpy;

@layer ren {
  p { color: red !important; }
}

p { color: green; }

@layer stimpy {
  p { color: blue !important; }
}</code></pre>



<details >
  <summary>
          What color is the paragraph?      </summary>
  

<p>Our normal layer order is established at the start  <code>ren</code> at the bottom, then <code>stimpy</code>, then (as always) un-layered styles at the top. But these styles arent all <code>normal</code>, some of them are important. Right away, we can filter down to just the <code>!important</code> styles, and ignore the unimportant <code>green</code>. Remember that origins and importance are the first step of the cascade, before we even take layering into account.</p>



<p>That leaves us with two important styles, both in layers. Since our important layers are reversed, <code>ren</code> moves to the top, and <code>stimpy</code> to the bottom. The paragraph will be <code>red</code>.</p>


</details>

<h4 class="wp-block-heading" id="question-3"><a href="#aa-question-3" aria-hidden="true" class="aal_anchor" id="aa-question-3"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Question 3</h4>


<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@layer Montagues, Capulets, Verona;

@layer Montagues.Romeo { #intro { color: red; } }
@layer Montagues.Benvolio { p { color: orange; } }

@layer Capulets.Juliet { p { color: yellow; } }
@layer Verona { * { color: blue; } }
@layer Capulets.Tybalt { #intro { color: green; } }</code></pre>



<details >
  <summary>
          What color is the paragraph?      </summary>
  

<p>All our styles are in the same origin and context, none are marked as important, and none of them are inline styles. We do have a broad range of selectors here, from a highly specific ID <code>#intro</code> to a zero specificity universal <code>*</code> selector. But layers are resolved before we take specificity into account, so we can ignore the selectors for now.</p>



<p>The primary layer order is established up front, and then sub-layers are added internally. But sub-layers are sorted along with their parent layer  meaning all the <code>Montagues</code> will have lowest priority, followed by all the <code>Capulets</code>, and then <code>Verona</code> has final say in the layer order. So we can immediately filter down to just the <code>Verona</code> styles, which take precedence. Even though the <code>*</code> selector has zero specificity, it will win.</p>



<p>Be careful about putting universal selectors in powerful layers!</p>


</details>

<h3 class="wp-block-heading" id="debugging-layer-conflicts-in-browser-developer-tools"><a href="#aa-debugging-layer-conflicts-in-browser-developer-tools" aria-hidden="true" class="aal_anchor" id="aa-debugging-layer-conflicts-in-browser-developer-tools"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Debugging layer conflicts in browser developer tools</h3>


<p>Chrome, Safari, Firefox, and Edge browsers all have developer tools that allow you to inspect the styles being applied to a given element on the page. The styles panel of this element inspector will show applied selectors, sorted by their cascade priority (highest priority at the top), and then inherited styles below. Styles that are not being applied for any reason will generally be grayed out, or even crossed out  sometimes with additional information about <em>why</em> the style is not applied. This is the first place to look when debugging any aspect of the cascade, including layer conflicts.</p>



<p>Safari Technology Preview and Firefox Nightly already show (and sort) cascade layers in this panel. This tooling is expected to role out in the stable versions at the same time as cascade layers. The layer of each selector is listed directly above the selector itself:</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-9d6595d7 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow" style="flex-basis:35%">
<figure class="wp-block-image size-full"><img data-recalc-dims="1" decoding="async" width="1040" height="770" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1040%2C770&#038;ssl=1" alt="Showing CSS Cascade Layers in Safari DevTools." class="wp-image-363787" srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?w=1040&amp;ssl=1 1040w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=300%2C222&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1024%2C758&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=768%2C569&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232341_ScreenShot2022-02-03at11.35.41AM.jpg?resize=1000%2C740&amp;ssl=1 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption class="wp-element-caption">Safari</figcaption></figure>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow" style="flex-basis:65%">
<figure class="wp-block-image size-full"><img data-recalc-dims="1" loading="lazy" decoding="async" width="1338" height="608" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1338%2C608&#038;ssl=1" alt="Showing CSS Cascade Layers in FireFox DevTools." class="wp-image-363788" srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?w=1338&amp;ssl=1 1338w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=300%2C136&amp;ssl=1 300w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1024%2C465&amp;ssl=1 1024w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=768%2C349&amp;ssl=1 768w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2022/02/s_7269BD7CFF110C0C4578DCFE42CFC0B66C7F29AA3E50D4ABC024C679BD62AAD8_1643914232366_ScreenShot2022-02-03at11.39.41AM.jpg?resize=1000%2C454&amp;ssl=1 1000w" sizes="auto, (min-width: 735px) 864px, 96vw" /><figcaption class="wp-element-caption">Firefox</figcaption></figure>
</div>
</div>



<p>Chrome/Edge are working on similar tools and expect to have them available in Canary (nightly) releases by the time cascade layers land in the stable release. Well make updates here as those tools change and improve.</p>


<h3 class="wp-block-heading" id="browser-support-and-fallbacks"><a href="#aa-browser-support-and-fallbacks" aria-hidden="true" class="aal_anchor" id="aa-browser-support-and-fallbacks"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Browser support and fallbacks</h3>

<div class="caniuse"><div class="caniuse-header"><p>This browser support data is from <a href="http://caniuse.com/#feat=css-cascade-layers" rel="noopener">Caniuse</a>, which has more detail. A number indicates that browser supports the feature at that version and up.</p></div><div class="caniuse-section"><h4>Desktop</h4><table class="browser-support-table"><thead><tr><th class="chrome"><span>Chrome</span></th><th class="firefox"><span>Firefox</span></th><th class="ie"><span>IE</span></th><th class="edge"><span>Edge</span></th><th class="safari"><span>Safari</span></th></tr></thead><tbody><tr><td class="y yep" title="Chrome - "><span class="caniuse-agents-version version">99</span></td><td class="y yep" title="Firefox - "><span class="caniuse-agents-version version">97</span></td><td class="n nope" title="IE - "><span class="caniuse-agents-version version">No</span></td><td class="y yep" title="Edge - "><span class="caniuse-agents-version version">99</span></td><td class="y yep" title="Safari - "><span class="caniuse-agents-version version">15.4</span></td></tr></table></div><div class="caniuse-section"><h4>Mobile / Tablet</h4><table class="browser-support-table"><thead><tr><th class="and_chr"><span>Android Chrome</span></th><th class="and_ff"><span>Android Firefox</span></th><th class="android"><span>Android</span></th><th class="ios_saf"><span>iOS Safari</span></th></tr></thead><tbody><tr><td class="y yep" title="Android Chrome - "><span class="caniuse-agents-version version">137</span></td><td class="y yep" title="Android Firefox - "><span class="caniuse-agents-version version">139</span></td><td class="y yep" title="Android - "><span class="caniuse-agents-version version">137</span></td><td class="y yep" title="iOS Safari - "><span class="caniuse-agents-version version">15.4</span></td></tr></table></div></div>



<p>Since layers are intended as foundational building blocks of an entire CSS architecture, it is difficult to imagine building manual fallbacks in the same way you might for other CSS features. The fallbacks would likely involve duplicating large sections of code, with different selectors to manage cascade layering  or providing a much simpler fallback stylesheet.</p>


<h4 class="wp-block-heading" id="query-feature-support-using-supports"><a href="#aa-query-feature-support-using-supports" aria-hidden="true" class="aal_anchor" id="aa-query-feature-support-using-supports"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Query feature support using <code>@supports</code></h4>


<p>There is a <a href="https://css-tricks.com/how-supports-works/"><code>@supports</code> feature in CSS</a> that will allow authors to test for support of <code>@layer</code> and other at-rules:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@supports at-rule(@layer) {
  /* code applied for browsers with layer support */
}

@supports not at-rule(@layer) {
  /* fallback applied for browsers without layer support */
}</code></pre>



<p>However, its also not clear when this query itself will be supported in browsers.</p>


<h4 class="wp-block-heading" id="assigning-layers-in-html-with-the-link-tag"><a href="#aa-assigning-layers-in-html-with-the-link-tag" aria-hidden="true" class="aal_anchor" id="aa-assigning-layers-in-html-with-the-link-tag"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Assigning layers in HTML with the <code>&lt;link&gt;</code> tag</h4>


<p>There is no official specification yet for a syntax to layer entire stylesheets from the html <code>&lt;link&gt;</code> tag, but there is a <a href="https://github.com/whatwg/html/issues/7540" rel="noopener">proposal being developed</a>. That proposal includes a new <code>layer</code> attribute which can be used to assign the styles to a named or anonymous layer:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;!-- styles imported into to the &lt;layer-name> layer -->
&lt;link rel="stylesheet" href="example.css" layer="&lt;layer-name>">

&lt;!-- styles imported into to a new anonymous layer -->
&lt;link rel="stylesheet" href="example.css" layer></code></pre>



<p>However, old browsers without support for the <code>layer</code> attribute will ignore it completely, and continue to load the stylesheet without any layering. The results could be pretty unexpected. So the proposal also extends the existing <code>media</code> attribute, so that it allows feature support queries in a <code>support()</code> function.</p>



<p>That would allow us to make layered links conditional, based on support for layering:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;link rel="stylesheet" layer="bootstrap" media="supports(at-rule(@layer))" href="bootstrap.css"></code></pre>


<h4 class="wp-block-heading" id="potential-polyfills-and-workarounds"><a href="#aa-potential-polyfills-and-workarounds" aria-hidden="true" class="aal_anchor" id="aa-potential-polyfills-and-workarounds"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Potential polyfills and workarounds</h4>


<p>The major browsers have all moved to an <a href="https://css-tricks.com/evergreen-does-not-mean-immediately-available/">evergreen model</a> with updates pushed to users on a fairly short release cycle. Even Safari regularly releases new features in patch updates between their more rare-seeming major versions.</p>



<p>That means we can expect browser support for these features to ramp up very quickly. For many of us, it may be reasonable to start using layers in only a few months, without much concern for old browsers.</p>



<p>For others, it may take longer to feel comfortable with the native browser support. There are many other ways to <a href="https://css-tricks.com/dont-fight-the-cascade-control-it/">manage the cascade</a>, using selectors, <a href="https://css-tricks.com/using-custom-property-stacks-to-tame-the-cascade/">custom properties</a>, and other tools. Its also theoretically possible to mimic (or polyfill) the basic behavior. There are people working on that polyfill, but its not clear when that will be ready either.</p>


<h3 class="wp-block-heading" id="more-resources"><a href="#aa-more-resources" aria-hidden="true" class="aal_anchor" id="aa-more-resources"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>More resources</h3>


<p>CSS Cascade Layers is still evolving but there is already a lot of resources, including documentation, articles, videos, and demos to help you get even more familiar with layers and how they work.</p>


<h4 class="wp-block-heading" id="reference"><a href="#aa-reference" aria-hidden="true" class="aal_anchor" id="aa-reference"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reference</h4>


<ul class="wp-block-list">
<li><a href="https://www.w3.org/TR/css-cascade-5/#layering" rel="noopener">Cascading &amp; Inheritance Level 5 Specification</a></li>



<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@layer" rel="noopener">MDN Documentation</a></li>
</ul>


<h4 class="wp-block-heading" id="articles"><a href="#aa-articles" aria-hidden="true" class="aal_anchor" id="aa-articles"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Articles</h4>


<ul class="wp-block-list">
<li><a href="https://www.bram.us/2021/09/15/the-future-of-css-cascade-layers-css-at-layer/" rel="noopener">The Future of CSS: Cascade Layers (CSS <code>@layer</code>)</a> by Bramus Van Damme</li>



<li><a href="https://www.smashingmagazine.com/2022/01/introduction-css-cascade-layers/" rel="noopener">Getting Started With CSS Cascade Layers</a> by Stephanie Eckles, <em>Smashing Magazine</em></li>



<li><a href="https://developer.chrome.com/blog/cascade-layers/" rel="noopener">Cascade layers are coming to your browser</a> by Una Kravets, <em>Chrome Developers</em></li>
</ul>


<h4 class="wp-block-heading" id="videos"><a href="#aa-videos" aria-hidden="true" class="aal_anchor" id="aa-videos"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Videos</h4>


<ul class="wp-block-list">
<li><a href="https://youtu.be/dS123IXPcJ0" rel="noopener">How does CSS !important actually work?</a> by Una Kravets</li>



<li><a href="https://youtu.be/ilrPpSQJb3U" rel="noopener">An overview of the new @layer and layer() CSS primitives</a> by Una Kravets</li>



<li><a href="https://www.youtube.com/watch?v=2wSckPwaC_A" rel="noopener">CSS Revert &amp; Revert-Layer Keywords</a> by Una Kravets</li>
</ul>


<h4 class="wp-block-heading" id="demos"><a href="#aa-demos" aria-hidden="true" class="aal_anchor" id="aa-demos"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Demos</h4>


<ul class="wp-block-list">
<li><a href="https://codepen.io/collection/BNjmma" rel="noopener">Layers CodePen collection</a></li>
</ul>

          
        </div>

    </article>

  </main>

      <div class="entry-unrelated sidebar">

    <div id="scroll-ad-position"></div>

    
      
  <div id="all-modules">
    <div id="sticky-sidebar-stuff"></div>
    <div id="carbon-placement"></div>
  </div>

</div>  
</div>

<div class="related-ads-comments-wrap">
  <div class="related-ads-comments">
    <div class="articles-and-sidebar">
  <div class="after-article-note article-sponsor">
		<em>Psst!</em> Create a DigitalOcean account and get <a href="https://try.digitalocean.com/css-tricks/?utm_medium=content_acq&utm_source=css-tricks&utm_campaign=global_brand_ad_en&utm_content=conversion_postarticle_psst">$200 in free credit</a> for cloud-based hosting and services.
  </div>
</div>

<section class="respond-area">

  
    <h2 class="comments-title" id="comments">
      <span>Comments</span>
    </h2>

    
        <ol class="commentlist" id="commentlist">
          
  <li class="comment even thread-even depth-1" id="li-comment-1794124">

    <div class="comment-wrap" id="comment-1794124">

      <div class="comment-author-wrap">
        <div class="comment-author">Noam</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794124"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-21T10:17:19-07:00">February 21, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>This reversal of layer precedence when using !important is really mind-blowing and has potential for a lot of confusion. I feel like that behavior should have been highlighted much more in the official documents &#8211; <em>After</em> learning about it on this article I had to search the spec over and over until finding the paragraph that says it. In the MDN documentation I couldn&#8217;t find a word about it.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment odd alt depth-2" id="li-comment-1794127">

    <div class="comment-wrap" id="comment-1794127">

      <div class="comment-author-wrap">
        <div class="comment-author">Rasmus Schultz</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794127"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-21T13:59:16-07:00">February 21, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>This will be especially bad and confusing when importing some existing &#8220;bad&#8221; CSS with !important into a layer &#8211; if you&#8217;re loading third party CSS into layers, that is definitely not what you would expect.</p>
<p>I feel they made a mistake here? Layers are supposed to contain and control CSS effects, but !important for some reason seems to have even more destructive powers than it did already. It would have seemed much now useful to contain the effects of imported rules with !important to the files in which they were originally wreaking havoc, giving us more control over them from the outside by layering them.</p>
<p>If anyone can offer an explanation, please do?</p>
<p>(Given that !important is now even more dangerous than before, and since it&#8217;s probably too late to change it already, perhaps it might be time to deprecate it altogether&#8230;)</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment even depth-2" id="li-comment-1794132">

    <div class="comment-wrap" id="comment-1794132">

      <div class="comment-author-wrap">
        <div class="comment-author">Glenn</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794132"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-21T22:26:12-07:00">February 21, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>Agreed. On its face it seemed like this would be silos of code, where one set of code is always a higher specificity than another, which sounds very orderly and useful. That gets thrown out the window with <code>!important</code>. This gets downright batty when we consider the <code>revert-layer</code> functionality. I feel like, while <code>!important</code> today isn&#8217;t considered particularly good practice, that perception will be greatly magnified in the future. While yes there are workarounds, it does seem quite hacky, where some overrides have to be before and some after. This is going to be a significant roadblock to adoption.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment odd alt depth-2" id="li-comment-1794145">

    <div class="comment-wrap" id="comment-1794145">

      <div class="comment-author-wrap">
        <div class="comment-author">Noam</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794145"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-22T07:39:42-07:00">February 22, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>To add to the confusion, not everything is reversed within the <code>!important</code> context. Late rules still win over similar early rules if both are declared as important, higher specifity wins over lower one, and important inline rules override all layers.</p>
<p><strong>Without <code>!important</code></strong><br />
1. Inline<br />
2. Unlayered<br />
2.1 Specifity within unlayered<br />
2.2 Order within unlayered<br />
3. Late layer<br />
3.1 Specifity within late layer<br />
3.2 Order within late layer<br />
4. Early layer<br />
4.1 Specifity within early layer<br />
4.2 Order within early layer</p>
<p>then&#8230;</p>
<p><strong>With <code>!important</code></strong><br />
1. Inline<br />
4. Early layer<br />
4.1 Specifity within early layer<br />
4.2 Order within early layer<br />
3. Late layer<br />
3.1 Specifity within late layer<br />
3.2 Order within late layer<br />
2. Unlayered<br />
2.1 Specifity within unlayered<br />
2.2 Order within unlayered</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment even depth-2" id="li-comment-1794200">

    <div class="comment-wrap" id="comment-1794200">

      <div class="comment-author-wrap">
        <div class="comment-author">Miriam Suzanne</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794200"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-24T13:55:09-07:00">February 24, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>Hi all, I think you&#8217;re right to highlight importance-reversal as a potential point of confusion for authors, and I also hope that MDN draws more attention to it. I expect their page will get some updates now that the feature is rolling out in browsers, and is no longer theoretical. But, as always, that will require some time and attention (documentation isn&#8217;t magical, but they do accept issues/requests and PRs).</p>
<p>Part of the confusion is that web authors have primarily used <code>!important</code> as a hack for overriding specificity, while it serves a different purpose in the overall cascade. So in some ways you can think of this change as &#8216;deprecating&#8217; the importance hack that authors have been using, and replacing it with an explicit layering feature. There will be some complications to manage during that transition period, but otherwise I expect authors using layers will want to start removing important flags that were used in that way &#8212; as specificity overrides.</p>
<p>If you only think of importance as that simple specificity-override hack, then the layer-reversing behavior looks very confusing. It doesn&#8217;t make any sense for that use-case! But once we consider that use-case deprecated We&#8217;re still left with the original purpose of the importance feature. Authors are not the only ones using CSS, and <code>!important</code> is still useful and necessary as a balancing mechanism between origins &#8212; a use-case that also makes sense in relation to layers. Not as a simple priority-bump (you can use a new layer for that), but as a way to mark that some styles are actually <em>required</em> for a selector pattern to work as intended. That use-case still exists, and can be quite useful &#8212; and I think the layer-reversing behavior matches that use-case fairly well.</p>
<p>My point is: the same feature can be confusing for one use-case, while being helpful in another. And it can be (unofficially) &#8216;deprecated&#8217; for one situation, while it is still necessary &amp; useful in other cases. So yes, I agree that this will be a confusing adjustment for folks who are used to the old (author-centered) pattern. But I also think this provides a very powerful new pattern that people could learn to use in their design systems to great effect.</p>
<p>I hope authors take the time to learn the use-case and mental-model for how importance was meant to be used, rather than simply throwing it out now that the old mental-model no longer fits.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment odd alt depth-2" id="li-comment-1803215">

    <div class="comment-wrap" id="comment-1803215">

      <div class="comment-author-wrap">
        <div class="comment-author">Hans Grimm</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1803215"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2023-03-20T03:14:15-06:00">March 20, 2023</time></div>
      </div>

      
      <div class="comment-content">

        <p>Great stuff! Currently applying cascade layers to a new project. About <code>!important</code>: I find that using cascade layers all but elimininates the need for that, even proactive use such as overrides.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment even thread-odd thread-alt depth-1" id="li-comment-1794160">

    <div class="comment-wrap" id="comment-1794160">

      <div class="comment-author-wrap">
        <div class="comment-author">Jake Montgomery</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794160"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-22T23:59:06-07:00">February 22, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>The fact that that adding <code>!important</code> to a layer <em>reverses</em> the layer order is worth noting. Suppose you have something like this:-</p>
<pre><code>@layer reset, default, utilities , components, debug;
</code></pre>
<p>And you import some 3rd-part code and assign it the layer utilities:-</p>
<pre><code>@import url(blabla.css) layer(utilities);
</code></pre>
<p>Now in case there is some <code>!important</code> in <code>blabla.css</code> we we will have a hard time overriding it. Unlayered styles can&#8217;t override it so the only solution will be to throw an <code>!important</code> in the layers reset and default.</p>
<p>I think its time that <code>!important</code> should be deprecated and make way for Cascade layers just the way <code>clip</code> was deprecated and <code>clip-path</code> was favoured instead of it.</p>
<p>Also, I think that developers would most likely want to use the <code>layer</code> attribute in the HTML file rather than wanting to use with the import statement because handling additional requests via an external css file would definitely cause performance issues.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment odd alt depth-2" id="li-comment-1807211">

    <div class="comment-wrap" id="comment-1807211">

      <div class="comment-author-wrap">
        <div class="comment-author">Koos Looijesteijn</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1807211"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2023-12-07T12:44:50-07:00">December 7, 2023</time></div>
      </div>

      
      <div class="comment-content">

        <p>If I understood the article correctly, this could be the way to deal with that:</p>
<pre><code>@layer important, default, utilities

</code></pre>
<p>Now if I use your example again:</p>
<pre><code>@import url(blabla.css) layer(utilities);
</code></pre>
<p>And <code>blabla.css</code> contains some style with <code>!important</code>, we should be able to override that with another important style in the the important layer?</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment byuser comment-author-kilianvalkhof even thread-even depth-1" id="li-comment-1794164">

    <div class="comment-wrap" id="comment-1794164">

      <div class="comment-author-wrap">
        <div class="comment-author">Kilian Valkhof</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794164"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-23T04:20:33-07:00">February 23, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>I spent a lot of time implementing layer support in the Polypane browser and shipped it earlier this month, ahead of many of the other browsers (Safari TP was earlier).</p>
<p>So if you&#8217;re looking for a Chromium-based browser that&#8217;s specifically built for developers and has support for @layer that also shows them in its devtools, check out <a href="https://polypane.app" rel="nofollow ugc">Polypane</a>.</p>
<p>Here&#8217;s a quick screenshot showing it in action, there&#8217;s support for named and unnamed layers as well as nested layers:</p>
<p><img src="https://pbs.twimg.com/media/FMIdShTWUAUwaP5?format=png" alt="" /></p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1794184">

    <div class="comment-wrap" id="comment-1794184">

      <div class="comment-author-wrap">
        <div class="comment-author">Quinn</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794184"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-24T05:25:16-07:00">February 24, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>the solution to the complexity of the cascade is to&#8230; add even more complexity? this is why I use single classnames with css modules. It completely defeats the cascade.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment even depth-2 featured" id="li-comment-1794196">

    <div class="comment-wrap" id="comment-1794196">

      <div class="comment-author-wrap">
        <div class="comment-author">Miriam Suzanne</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794196"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-24T11:16:59-07:00">February 24, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>It does not defeat the cascade. The cascade still happens. Out of the entire cascade, you&#8217;ve only flattened &#8216;specificity&#8217;, and only within the author normal and important origins. To do that, you had to give up on a lot of powerful selector combinations, add a lot of unique classes (using extra dependencies to ensure that uniqueness), and maintain a strict &#8216;order of appearance&#8217; wherever internal cascade conflicts are still possible.</p>
<p>You can do that, but it&#8217;s only simpler in that you are deciding not to take advantage of any other, more explicit cascade-management tools that CSS provides. Like simplifying a toolkit down to hammers only, because screwdrivers add complexity. But then you replace that language &#8216;complexity&#8217; (features) with the extra complexity (features) of build tools like css modules, and unique class conventions. Because you understand that additional language/tooling complexity can be used to make our actual code more clear, explicit, and intentional.</p>
<p>You are welcome (of course) to use the tools that you like best for managing the cascade. But as long as you are using CSS in any way, the cascade remains unavoidable, and undefeated.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment odd alt thread-even depth-1" id="li-comment-1794271">

    <div class="comment-wrap" id="comment-1794271">

      <div class="comment-author-wrap">
        <div class="comment-author">Jonas</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794271"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-26T00:48:01-07:00">February 26, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>I am struggling here. I cant see a use case for these CSS Layers.<br />
I havent had a specificity war in years. Thanks to name-spacing.  Especially not with the reset or with the framework I put to use.</p>
<p>If you look at these then use-cases (<a href="https://noti.st/jensimmons/QOEOYT/three-topics#syyV24S" rel="nofollow ugc">https://noti.st/jensimmons/QOEOYT/three-topics#syyV24S</a>) you will see that CSS Layers does not solve a single one of these problems. I think they thought there would be different origins and that there is no cascade between these origins. Now we have layers, with the cascade.</p>
<p>So you cant really refactor old styles. The old styles will always cascade into the new styles, so you always have to overwrite them again. Yes, you can do that with a lower specificity, but other than that, there is nothing to gain, that the source code order couldnt do. On top of that you cant run the old styles with the new styles in parallel, because part of the new styles (with the lower specificity) wreak havoc inside the old styles.</p>
<p>Same with the third party stuff, if they are writing bad css, then there might be an <code>!important</code> some where. To override some of the styles you have a layer below the third party layer, but for the <code>!important</code> override you need another layer on top the third party layer. I think thats adds to the complexity and maintainability. Especially if the solution would be to copy the selector and put it later in the source code order. As simple as that.</p>
<p>It shows that there are only limited real use cases. In the last view weeks all the blog entries Ive read about CSS Layers, all have these constructed theoretical examples. Which show how the layers work, but they dont show a real world use case.</p>
<p>Cons<br />
&#8211; Adds complexity<br />
&#8211; Harder to maintain<br />
&#8211; Side effects from too generic selectors (specificity is there for a reason)<br />
&#8211; Screws with the source code order (spaghetti css code)<br />
&#8211; CSS parsing got slower</p>
<p>Pros<br />
&#8211; Easy to override existing styles even with a lower specificity.</p>
<p>CSS Layers sound very good on paper, but in the real world they are of limited use. Right now they solve no problems we couldnt solve with the tools we already have. But instead they create new pitfalls and confusion about the cascade, specificity and importance. They make CSS harder to learn. They add a layer of confusion (sorry for that ).</p>
<p>Now every time a css file is parsed, time and energy is being wasted for so little gain. It feels like bloat and featureritis.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment even depth-2 featured" id="li-comment-1794674">

    <div class="comment-wrap" id="comment-1794674">

      <div class="comment-author-wrap">
        <div class="comment-author">Noam</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794674"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-28T21:40:20-07:00">February 28, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>I wasn&#8217;t a huge fan of this feature either (see my comment above), but your comment made me think and I now realize what goal layers are supposed to serve.</p>
<p>At first glance it seemed that layers provide a method to &#8220;enclose&#8221; badly-written or half-compatible CSS modules so that everything in there has low priority and everything you write on top of it overrides it. I had concerns about the compexities involved, but I saw the point. Your (pretty good) points made me realize that this is <em>not at all</em> what layers are for.</p>
<p>Instead, layers can serve such CSS modules that were <em>written with layers in mind</em>. They don&#8217;t serve the module client, they serve the module author! Now, the module author can use whatever selector sequences that work inside the logic of their own module, and don&#8217;t worry about the module client having to deal with their selectors later, because the layering system takes care of that.</p>
<p>With this in mind, I get the point of <code>!important</code> with the layer-reversal mechanism. As Miriam pointed out, <code>!important</code> can now be seen as deprecated as a tool for overriding <em>previous</em> CSS rules. Using it in such sense inside a layered module would cause absolute mess.</p>
<p>Instead, <code>!important</code> communicates &#8220;this declaration is essential for the module to work correctly. It must be resistant against any future unknown declarations and you must not override it in a subsequent module&#8221;. Now it makes sense that the mechanism actively prevents subsequent modules from overriding the important declaration. The module client can decide to override it anyway, but that would only be possible with a dedicated &#8220;overrides&#8221; layer, not with some accidental code.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1794851">

    <div class="comment-wrap" id="comment-1794851">

      <div class="comment-author-wrap">
        <div class="comment-author">Jerzy</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794851"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-03-05T13:49:22-07:00">March 5, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>How about backwards compatibility with older browsers? There would be need for two stylesheets &#8211; with and without layers. This is not how CSS should work. There should be no breaking changes.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment even depth-2" id="li-comment-1794991">

    <div class="comment-wrap" id="comment-1794991">

      <div class="comment-author-wrap">
        <div class="comment-author">Miriam Suzanne</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1794991"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-03-15T09:05:07-06:00">March 15, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>All new features are broken in old browsers, there&#8217;s no way to avoid that. The backwards-compatibility requirement is that new features shouldn&#8217;t break old <strong>CSS</strong> in any browser.</p>
<p>In this case, as with media-queries, any code inside an <code>@layer</code> will be hidden from old browsers. And there&#8217;s a polyfill in development which would be able to generate and link a legacy stylesheet automatically. It&#8217;s not an ideal situation, but it is a temporary one.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment odd alt thread-even depth-1" id="li-comment-1795767">

    <div class="comment-wrap" id="comment-1795767">

      <div class="comment-author-wrap">
        <div class="comment-author">Mark</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1795767"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-05-15T23:04:27-06:00">May 15, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>Is there a way I can assign a layer to third party components that do not expose a stylesheet so that I can keep the styles of the third party components one layer below my own layer.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment even depth-2" id="li-comment-1795774">

    <div class="comment-wrap" id="comment-1795774">

      <div class="comment-author-wrap">
        <div class="comment-author">Miriam Suzanne</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1795774"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-05-16T16:30:46-06:00">May 16, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>Hi Mark, in theory the answer is &#8216;yes&#8217; &#8211; since any styles from anywhere can be added to a layer. But the practical answer probably depends a lot on the exact tool-chain being used to ship your components, and also the tool chain used to apply them. I can&#8217;t speak to that without a lot more detail, and even then there&#8217;s a limited set of tools I have experience with. I would file an issue with whoever is shipping the components, to see if they have advice.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1796490">

    <div class="comment-wrap" id="comment-1796490">

      <div class="comment-author-wrap">
        <div class="comment-author">Patryk P</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1796490"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-07-23T12:46:10-06:00">July 23, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>Hey! Great article :)<br />
There is one question I would like to ask.<br />
Is there a way to revert whole layer? Just like single css rule: <code>color: rever-layer</code>.<br />
I mean its possible to dynamically change layer order depending on media queries or class names?</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment even depth-2" id="li-comment-1797058">

    <div class="comment-wrap" id="comment-1797058">

      <div class="comment-author-wrap">
        <div class="comment-author">Miriam Suzanne</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1797058"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-09-12T10:06:07-06:00">September 12, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>You can use <code>all: revert-layer</code> to roll back all layer styles, similar to using <code>all: revert</code> to roll back author styles.</p>
<p>Media queries can absolutely change layer order. The <code>@layer</code> rules are allowed inside media-queries, and then only impact the order of layers when the media-query is applied. You could do something like:</p>
<pre><code>@media print { @layer my, print, layer, order; }
@media screen { @layer my, screen, layer, order; }
</code></pre>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment odd alt thread-even depth-1" id="li-comment-1797044">

    <div class="comment-wrap" id="comment-1797044">

      <div class="comment-author-wrap">
        <div class="comment-author">Charlie Coplestone</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1797044"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-09-11T10:06:19-06:00">September 11, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>Hey :)</p>
<p>Having a play around with cascade layers for a new project and I seem to be getting an &#8216;Undefined mixin&#8217; error when providing bootstrap with its own layer like so:</p>
<p>`// Layers order<br />
@layer bootstrap, theme, utilities, third-party;</p>
<p>// Variables<br />
@import &#8220;1-variables/app&#8221;;</p>
<p>// Theme mixins<br />
@import &#8220;2-mixins/badge&#8221;;<br />
@import &#8220;2-mixins/button&#8221;;<br />
@import &#8220;2-mixins/modal&#8221;;<br />
@import &#8220;2-mixins/switch&#8221;;<br />
@import &#8220;2-mixins/tabs&#8221;;<br />
@import &#8220;2-mixins/theme&#8221;;</p>
<p>// Bootstrap<br />
@layer bootstrap {<br />
    @import &#8220;~bootstrap/scss/bootstrap&#8221;;<br />
}</p>
<p>// Theme components<br />
@layer theme {<br />
    @import &#8220;3-components/accordion&#8221;;<br />
    @import &#8220;3-components/alert&#8221;;<br />
    @import &#8220;3-components/avatar&#8221;;<br />
}`</p>
<p>Or even:</p>
<p><code>@import '~bootstrap/scss/bootstrap' layer(bootstrap);</code></p>
<p>The error:</p>
<p><code>ERROR in ./resources/sass/phoenix/phoenix.scss<br />
Module build failed (from ./node_modules/laravel-mix/node_modules/mini-css-extract-plugin/dist/loader.js):<br />
ModuleBuildError: Module build failed (from ./node_modules/sass-loader/dist/cjs.js):<br />
SassError: Undefined mixin.<br />
   <br />
26      @include border-end-radius($alert-border-radius);</code></p>
<p>If I then import bootstrap outside of a layer, the project builds fine.</p>
<p>As you can see the order of my layers states that bootstrap is first, so this is odd to me.</p>
<p>Has anyone else ran into this issue?</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment even depth-2" id="li-comment-1797059">

    <div class="comment-wrap" id="comment-1797059">

      <div class="comment-author-wrap">
        <div class="comment-author">Miriam Suzanne</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1797059"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-09-12T10:34:19-06:00">September 12, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>I don&#8217;t know what version of Sass you are using, but Sass doesn&#8217;t have any special handling for layers. So it is likely treating your import as a CSS-import (rather than a Sass-import) because it has non-Sass syntax.</p>
<p>If <code>~bootstrap/scss/bootstrap</code> provides both Sass features (mixins, variables, etc) and also has direct CSS output, those will need to be handled a bit differently. You want to put the CSS-output into a layer, but keep the Sass features available anywhere. That should be possible using <a href="/introducing-sass-modules/" rel="nofollow ugc">Sass modules</a> and more specific Bootstrap paths. Something like&#8230;</p>
<p>Forward all the Sass features from one file:</p>
<pre><code>// bootstrap-sass.scss
// Use the configuration syntax as needed
@forward "~/bootstrap/scss/functions";
@forward "~/bootstrap/scss/variables";
@forward "~/bootstrap/scss/maps";
@forward "~/bootstrap/scss/mixins";
</code></pre>
<p>Then in your main file, you can <code>@use</code> the Sass features you&#8217;ve forwarded, and load the CSS from bootstrap separately:</p>
<pre><code>// main.scss
@use 'bootstrap-sass' as bs;

@layer bootstrap {
  @include load-css('~bootstrap/scss/bootstrap');
}

.example {
  @include bs.border-end-radius($alert-border-radius);
}
</code></pre>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment odd alt depth-2" id="li-comment-1797060">

    <div class="comment-wrap" id="comment-1797060">

      <div class="comment-author-wrap">
        <div class="comment-author">Miriam Suzanne</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1797060"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-09-12T14:52:35-06:00">September 12, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>Sorry, a small typo there. For <code>load-css()</code>, you need the built-in &#8216;meta&#8217; module from Sass:</p>
<pre><code>@use 'sass:meta';

@layer bootstrap {
  @include meta.load-css('~bootstrap/scss/bootstrap');
}
</code></pre>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment even thread-odd thread-alt depth-1" id="li-comment-1802556">

    <div class="comment-wrap" id="comment-1802556">

      <div class="comment-author-wrap">
        <div class="comment-author">EnlightenedWebDeveloper</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1802556"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-12-31T13:39:56-07:00">December 31, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>I see no value whatsoever in ever using layers, except for the one case where their !important overrides that in all other non-layer styles in a typical web page. That&#8217;s it. And even that is confusing as its reversed with first layers overriding later layers. Super dumb design.</p>
<p>The fact is, the minute you modify any element in your author sheets, like div, p, span, etc., you can never override them using layers using any cascade, specificity. etc. And most modern web developers create &#8216;reset&#8217; sheets to change their element designs. So layers die.</p>
<p>The sad reality is, pre-processors, variables, layers, and other new web tech was designed by people that never understood how cascading style sheets work and how text-based properties inherit. If they did, they would see that hey never need those tools. You don&#8217;t need to change things that inherit, say from the body element of a typical web page. And when you do, you already have a weighted and origin-like, layer-like system using ID and Class that works exactly the same as sheet origin and layer origin precedence with a fraction of the CSS code needed!</p>
<p>Example, any HTML modified by ID can never be overridden by a more weighted set of classes. They remain in their own layer, essentially.</p>
<p>This is why CSS has worked perfectly for 20+ years and rarely every changes or needs to change.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment odd alt thread-even depth-1" id="li-comment-1802930">

    <div class="comment-wrap" id="comment-1802930">

      <div class="comment-author-wrap">
        <div class="comment-author">Phil Wolstenholme</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1802930"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2023-02-12T08:31:19-07:00">February 12, 2023</time></div>
      </div>

      
      <div class="comment-content">

        <p>Just a quick note to say that a Postcss polyfill is now available: <a href="https://www.npmjs.com/package/@csstools/postcss-cascade-layers" rel="nofollow ugc">https://www.npmjs.com/package/@csstools/postcss-cascade-layers</a></p>
<p>It&#8217;s also included in <code>postcss-preset-env</code>: <a href="https://preset-env.cssdb.org/features/#cascade-layers" rel="nofollow ugc">https://preset-env.cssdb.org/features/#cascade-layers</a></p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment even thread-odd thread-alt depth-1" id="li-comment-1824040">

    <div class="comment-wrap" id="comment-1824040">

      <div class="comment-author-wrap">
        <div class="comment-author">Michael M</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1824040"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2024-06-02T22:16:46-06:00">June 2, 2024</time></div>
      </div>

      
      <div class="comment-content">

        <p>I like the coloured cascade image (<a href="https://css-tricks.com/wp-content/uploads/2022/02/layers-tall-outlines2.svg" rel="ugc">https://css-tricks.com/wp-content/uploads/2022/02/layers-tall-outlines2.svg</a>) but aren&#8217;t classes meant to be more important than elements? This image currently reads as if it says * -&gt; .class -&gt; element -&gt; #ID.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment byuser comment-author-geoffgraham odd alt depth-2" id="li-comment-1824044">

    <div class="comment-wrap" id="comment-1824044">

      <div class="comment-author-wrap">
        <div class="comment-author">Geoff Graham</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1824044"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2024-06-03T10:19:29-06:00">June 3, 2024</time></div>
      </div>

      
      <div class="comment-content">

        <p>Nice catch! Got that all cleaned up. </p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment even thread-even depth-1" id="li-comment-1849980">

    <div class="comment-wrap" id="comment-1849980">

      <div class="comment-author-wrap">
        <div class="comment-author">JackZhouMine</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1849980"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2024-07-24T04:49:25-06:00">July 24, 2024</time></div>
      </div>

      
      <div class="comment-content">

        <p>how to change importance by import external css</p>
<p>@layer component-1,component,importLayer;</p>
<p><code>@import url('example.css') layer(importLayer)</code></p>
<p>the componet layer work not importLayer ?   could you give a  example</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1882653">

    <div class="comment-wrap" id="comment-1882653">

      <div class="comment-author-wrap">
        <div class="comment-author">Sebastien Lorber</div> <div class="comment-time"><a href="https://css-tricks.com/css-cascade-layers/#comment-1882653"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2025-05-22T05:47:46-06:00">May 22, 2025</time></div>
      </div>

      
      <div class="comment-content">

        <p>If I group multiple sub-layers in a parent layer, it is possible to revert rules from the parent layer (including its sublayers) once?</p>
<p>It seems that reverting the parent layer will only revert that immediate layer, but will not revert the sublayers</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
        </ol>

      
  
  
    <div class="comments-closed">
      This comment thread is closed. If you have important information to share, please <a href="/contact/">contact us</a>.
    </div>

  
</section>          <div class="related-posts">
  <div id='jp-relatedposts' class='jp-relatedposts' >
	
</div></div>      </div>
</div>

  </div>

  <footer class="site-footer">

    <svg class="icon-logo-star" width="35px" height="35px" viewBox="0 0 362.62 388.52" data-spin-me="false">
  <path d="M156.58,239l-88.3,64.75c-10.59,7.06-18.84,11.77-29.43,11.77-21.19,0-38.85-18.84-38.85-40C0,257.83,14.13,244.88,27.08,239l103.6-44.74L27.08,148.34C13,142.46,0,129.51,0,111.85,0,90.66,18.84,73,40,73c10.6,0,17.66,3.53,28.25,11.77l88.3,64.75L144.81,44.74C141.28,20,157.76,0,181.31,0s40,18.84,36.5,43.56L206,149.52l88.3-64.75C304.93,76.53,313.17,73,323.77,73a39.2,39.2,0,0,1,38.85,38.85c0,18.84-12.95,30.61-27.08,36.5L231.93,194.26,335.54,239c14.13,5.88,27.08,18.83,27.08,37.67,0,21.19-18.84,38.85-40,38.85-9.42,0-17.66-4.71-28.26-11.77L206,239l11.77,104.78c3.53,24.72-12.95,44.74-36.5,44.74s-40-18.84-36.5-43.56Z" />
</svg>
    <div class="footer-inside">

      <div class="footer-message-and-form">
        <p class="colophon">
          CSS-Tricks is powered by <a href="https://www.digitalocean.com/?utm_source=css-tricks.com&utm_medium=cta&utm_campaign=website_link">DigitalOcean</a>.
        </p>

        <div class="footer-form-wrap">

  <h4>Keep up to date on web dev</h4>

  <p>with our hand-crafted newsletter</p>

  
  <form id="mktoForm_1402"></form>
  

</div>      </div>

      <div class="link-grid">

        <div>
          <div>
            <h5>DigitalOcean</h5>
            <nav id="footer-nav-digitalocean" class="footer-nav" role="navigation">
              <ul id="menu-digitalocean" class="menu"><li id="menu-item-379274" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-379274"><a href="https://www.digitalocean.com/about?utm_source=css-tricks.com&#038;utm_medium=cta&#038;utm_campaign=website_link">About DO</a></li>
<li id="menu-item-379275" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-379275"><a href="https://www.cloudways.com/en/wordpress-hosting.php?id=1223312">Cloudways</a></li>
<li id="menu-item-379276" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-379276"><a href="https://www.digitalocean.com/legal?utm_source=css-tricks.com&#038;utm_medium=cta&#038;utm_campaign=website_link">Legal stuff</a></li>
<li id="menu-item-379277" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-379277"><a href="https://try.digitalocean.com/css-tricks/?utm_source=wordpress-1242695-4567563.cloudwaysapps.com&#038;utm_medium=cta&#038;utm_campaign=website_link">Get free credit!</a></li>
</ul>              </nav>
          </div>
        </div>

        <div>
          <div>
            <h5>CSS-Tricks</h5>
            <nav id="footer-nav-csstricks" class="footer-nav" role="navigation">
              <ul id="menu-css-tricks" class="menu"><li id="menu-item-383182" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-383182"><a href="https://css-tricks.com/contact/">Contact</a></li>
<li id="menu-item-383181" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-383181"><a href="https://css-tricks.com/guest-writing/">Write for CSS-Tricks!</a></li>
<li id="menu-item-379047" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-379047"><a href="https://css-tricks.com/advertising/">Advertise with us</a></li>
</ul>            </nav>
          </div>
        </div>

        <div>
          <div>
            <h5>Social</h5>
            <nav id="footer-nav-social" class="footer-nav" role="navigation">
              <ul id="menu-social" class="menu"><li id="menu-item-379051" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-379051"><a href="https://css-tricks.com/rss-feeds/">RSS Feeds</a></li>
<li id="menu-item-377816" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-377816"><a href="https://codepen.io/team/css-tricks">CodePen</a></li>
<li id="menu-item-377813" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-377813"><a href="https://mastodon.social/@csstricks">Mastodon</a></li>
<li id="menu-item-382192" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-382192"><a href="https://bsky.app/profile/css-tricks.com">Bluesky</a></li>
</ul>            </nav>
          </div>
        </div>

      </div>

    </div>

    <a href="#top-of-site" class="top-of-site-link" data-visible="false">
      <span class="screen-reader-text">Back to Top</span>
      <svg width="32" height="32" viewBox="0 0 100 100">
  <path fill="white" d="m50 0c-13.262 0-25.98 5.2695-35.355 14.645s-14.645 22.094-14.645 35.355 5.2695 25.98 14.645 35.355 22.094 14.645 35.355 14.645 25.98-5.2695 35.355-14.645 14.645-22.094 14.645-35.355-5.2695-25.98-14.645-35.355-22.094-14.645-35.355-14.645zm20.832 62.5-20.832-22.457-20.625 22.457c-1.207 0.74219-2.7656 0.57812-3.7891-0.39844-1.0273-0.98047-1.2695-2.5273-0.58594-3.7695l22.918-25c0.60156-0.61328 1.4297-0.96094 2.2891-0.96094 0.86328 0 1.6914 0.34766 2.293 0.96094l22.918 25c0.88672 1.2891 0.6875 3.0352-0.47266 4.0898-1.1562 1.0508-2.9141 1.0859-4.1133 0.078125z"/>
</svg>
    </a>

    <div id="consent-banner"></div>
    <div id="teconsent">
      
    </div>
    
    
  </footer>

  



		<div class="jetpack-instant-search__widget-area" style="display: none">
							<div id="jetpack-search-filters-8" class="widget jetpack-filters widget_search">			<div id="jetpack-search-filters-8-wrapper" class="jetpack-instant-search-wrapper">
		</div></div>					</div>
		<style id='core-block-supports-inline-css' type='text/css'>
.wp-container-core-columns-is-layout-9d6595d7{flex-wrap:nowrap;}
</style>
















  







  


  

  <svg width="0" height="0" class="screen-reader">
    <defs>

      <linearGradient id="orange-to-pink" x1="0" x2="1" y1="0" y2="1">
        <stop offset="0%" stop-color="#ff7a18" />
        <stop offset="40%" stop-color="#af002d" />
        <stop offset="100%" stop-color="#319197" />
      </linearGradient>

      <filter id="duotone_orange_pink">
        <feColorMatrix type="matrix" result="grayscale" values="1 0 0 0 0
                  1 0 0 0 0
                  1 0 0 0 0
                  0 0 0 1 0">
        </feColorMatrix>
        <feComponentTransfer color-interpolation-filters="sRGB" result="duotone">
          <feFuncR type="table" tableValues="0.7411764706 0.9882352941"></feFuncR>
          <feFuncG type="table" tableValues="0.0431372549 0.7333333333"></feFuncG>
          <feFuncB type="table" tableValues="0.568627451 0.05098039216"></feFuncB>
          <feFuncA type="table" tableValues="0 1"></feFuncA>
        </feComponentTransfer>
      </filter>

    </defs>
  </svg>

  <script type="text/javascript" id="jetpack_related-posts-js-extra">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script><script  src="https://c0.wp.com/p/jetpack/14.7/_inc/build/related-posts/related-posts.min.js" id="jetpack_related-posts-js"></script><script type="text/javascript" id="breeze-prefetch-js-extra">
/* <![CDATA[ */
var breeze_prefetch = {"local_url":"https:\/\/css-tricks.com","ignore_remote_prefetch":"1","ignore_list":["wp-admin","wp-login.php"]};
/* ]]> */
</script><script  src="https://css-tricks.com/wp-content/plugins/breeze/assets/js/js-front-end/breeze-prefetch-links.min.js?ver=2.2.14" id="breeze-prefetch-js"></script><script>
  var articleID = 363766;
  var articleYear = 2022;
  var articleAuthor = "245622";
  var articleType = "post";
</script><script src="//anchor.digitalocean.com/js/forms2/js/forms2.min.js"></script><script>MktoForms2.loadForm("//anchor.digitalocean.com", "113-DTN-266", 1402);</script><script async="async" src="//consent.trustarc.com/notice?domain=css-tricks.com&c=teconsent&js=nj&noticeType=bb&text=true&gtm=1" crossorigin></script><script>
      var style = document.createElement('style');
      style.innerHTML = '#teconsent {position: fixed; z-index: 1000; bottom: 0px; right: 0; font-size: 0px; height: 33px;}';
      document.head.appendChild(style);
    </script><script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/CSS-Tricks-19\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script><script type="text/javascript" id="bbp-swap-no-js-body-class">
	document.body.className = document.body.className.replace( 'bbp-no-js', 'bbp-js' );
</script><script type="module" src="https://css-tricks.com/wp-content/plugins/baseline-status/baseline-status.min.js?ver=1.0.8"></script><script  src="https://c0.wp.com/c/6.8.1/wp-includes/js/dist/hooks.min.js" id="wp-hooks-js"></script><script  src="https://c0.wp.com/c/6.8.1/wp-includes/js/dist/i18n.min.js" id="wp-i18n-js"></script><script  id="wp-i18n-js-after">
/* <![CDATA[ */
wp.i18n.setLocaleData( { 'text direction\u0004ltr': [ 'ltr' ] } );
/* ]]> */
</script><script  src="https://css-tricks.com/wp-content/plugins/jetpack-boost/jetpack_vendor/automattic/jetpack-assets/build/i18n-loader.js?minify=true&amp;ver=becd7d9884bc1b331e45" id="wp-jp-i18n-loader-js"></script><script  id="wp-jp-i18n-loader-js-after">
/* <![CDATA[ */
wp.jpI18nLoader.state = {"baseUrl":"https://css-tricks.com/wp-content/languages/","locale":"en_US","domainMap":{"jetpack-admin-ui":"plugins/jetpack-boost","jetpack-assets":"plugins/jetpack-boost","jetpack-boost-core":"plugins/jetpack-boost","jetpack-boost-speed-score":"plugins/jetpack-boost","jetpack-config":"plugins/jetpack-boost","jetpack-connection":"plugins/jetpack-boost","jetpack-explat":"plugins/jetpack-boost","jetpack-image-cdn":"plugins/jetpack-boost","jetpack-ip":"plugins/jetpack-boost","jetpack-jitm":"plugins/jetpack-boost","jetpack-licensing":"plugins/jetpack-boost","jetpack-my-jetpack":"plugins/jetpack-boost","jetpack-password-checker":"plugins/jetpack-boost","jetpack-plugin-deactivation":"plugins/jetpack-boost","jetpack-plugins-installer":"plugins/jetpack-boost","jetpack-protect-models":"plugins/jetpack-boost","jetpack-protect-status":"plugins/jetpack-boost","jetpack-schema":"plugins/jetpack-boost","jetpack-sync":"plugins/jetpack-boost","jetpack-wp-js-data-sync":"plugins/jetpack-boost","jetpack-search-pkg":"plugins/jetpack-search","jetpack-stats":"plugins/jetpack-search","jetpack-account-protection":"plugins/jetpack","jetpack-backup-pkg":"plugins/jetpack","jetpack-blaze":"plugins/jetpack","jetpack-classic-theme-helper":"plugins/jetpack","jetpack-compat":"plugins/jetpack","jetpack-external-media":"plugins/jetpack","jetpack-forms":"plugins/jetpack","jetpack-import":"plugins/jetpack","jetpack-masterbar":"plugins/jetpack","jetpack-post-list":"plugins/jetpack","jetpack-publicize-pkg":"plugins/jetpack","jetpack-stats-admin":"plugins/jetpack","jetpack-subscribers-dashboard":"plugins/jetpack","jetpack-videopress-pkg":"plugins/jetpack","jetpack-waf":"plugins/jetpack","jetpack-wordads":"plugins/jetpack","woocommerce-analytics":"plugins/jetpack"},"domainPaths":{"jetpack-admin-ui":"jetpack_vendor/automattic/jetpack-admin-ui/","jetpack-assets":"jetpack_vendor/automattic/jetpack-assets/","jetpack-boost-core":"jetpack_vendor/automattic/jetpack-boost-core/","jetpack-boost-speed-score":"jetpack_vendor/automattic/jetpack-boost-speed-score/","jetpack-config":"jetpack_vendor/automattic/jetpack-config/","jetpack-connection":"jetpack_vendor/automattic/jetpack-connection/","jetpack-explat":"jetpack_vendor/automattic/jetpack-explat/","jetpack-image-cdn":"jetpack_vendor/automattic/jetpack-image-cdn/","jetpack-ip":"jetpack_vendor/automattic/jetpack-ip/","jetpack-jitm":"jetpack_vendor/automattic/jetpack-jitm/","jetpack-licensing":"jetpack_vendor/automattic/jetpack-licensing/","jetpack-my-jetpack":"jetpack_vendor/automattic/jetpack-my-jetpack/","jetpack-password-checker":"jetpack_vendor/automattic/jetpack-password-checker/","jetpack-plugin-deactivation":"jetpack_vendor/automattic/jetpack-plugin-deactivation/","jetpack-plugins-installer":"jetpack_vendor/automattic/jetpack-plugins-installer/","jetpack-protect-models":"jetpack_vendor/automattic/jetpack-protect-models/","jetpack-protect-status":"jetpack_vendor/automattic/jetpack-protect-status/","jetpack-schema":"jetpack_vendor/automattic/jetpack-schema/","jetpack-sync":"jetpack_vendor/automattic/jetpack-sync/","jetpack-wp-js-data-sync":"jetpack_vendor/automattic/jetpack-wp-js-data-sync/","jetpack-search-pkg":"jetpack_vendor/automattic/jetpack-search/","jetpack-stats":"jetpack_vendor/automattic/jetpack-stats/","jetpack-account-protection":"jetpack_vendor/automattic/jetpack-account-protection/","jetpack-backup-pkg":"jetpack_vendor/automattic/jetpack-backup/","jetpack-blaze":"jetpack_vendor/automattic/jetpack-blaze/","jetpack-classic-theme-helper":"jetpack_vendor/automattic/jetpack-classic-theme-helper/","jetpack-compat":"jetpack_vendor/automattic/jetpack-compat/","jetpack-external-media":"jetpack_vendor/automattic/jetpack-external-media/","jetpack-forms":"jetpack_vendor/automattic/jetpack-forms/","jetpack-import":"jetpack_vendor/automattic/jetpack-import/","jetpack-masterbar":"jetpack_vendor/automattic/jetpack-masterbar/","jetpack-post-list":"jetpack_vendor/automattic/jetpack-post-list/","jetpack-publicize-pkg":"jetpack_vendor/automattic/jetpack-publicize/","jetpack-stats-admin":"jetpack_vendor/automattic/jetpack-stats-admin/","jetpack-subscribers-dashboard":"jetpack_vendor/automattic/jetpack-subscribers-dashboard/","jetpack-videopress-pkg":"jetpack_vendor/automattic/jetpack-videopress/","jetpack-waf":"jetpack_vendor/automattic/jetpack-waf/","jetpack-wordads":"jetpack_vendor/automattic/jetpack-wordads/","woocommerce-analytics":"jetpack_vendor/automattic/woocommerce-analytics/"}};
/* ]]> */
</script><script  src="https://c0.wp.com/c/6.8.1/wp-includes/js/dist/vendor/wp-polyfill.min.js" id="wp-polyfill-js"></script><script  src="https://c0.wp.com/c/6.8.1/wp-includes/js/dist/url.min.js" id="wp-url-js"></script><script  id="jetpack-instant-search-js-before">
/* <![CDATA[ */
var JetpackInstantSearchOptions=JSON.parse(decodeURIComponent("%7B%22overlayOptions%22%3A%7B%22colorTheme%22%3A%22dark%22%2C%22enableInfScroll%22%3Afalse%2C%22enableFilteringOpensOverlay%22%3Atrue%2C%22enablePostDate%22%3Atrue%2C%22enableSort%22%3Atrue%2C%22highlightColor%22%3A%22%23f4af38%22%2C%22overlayTrigger%22%3A%22immediate%22%2C%22resultFormat%22%3A%22expanded%22%2C%22showPoweredBy%22%3Atrue%2C%22defaultSort%22%3A%22relevance%22%2C%22excludedPostTypes%22%3A%5B%22attachment%22%5D%7D%2C%22homeUrl%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%22%2C%22locale%22%3A%22en-US%22%2C%22postsPerPage%22%3A9%2C%22siteId%22%3A45537868%2C%22postTypes%22%3A%7B%22post%22%3A%7B%22singular_name%22%3A%22Post%22%2C%22name%22%3A%22Posts%22%7D%2C%22page%22%3A%7B%22singular_name%22%3A%22Page%22%2C%22name%22%3A%22Pages%22%7D%2C%22attachment%22%3A%7B%22singular_name%22%3A%22Media%22%2C%22name%22%3A%22Media%22%7D%2C%22guides%22%3A%7B%22singular_name%22%3A%22Guide%22%2C%22name%22%3A%22Guides%22%7D%2C%22newsletters%22%3A%7B%22singular_name%22%3A%22Newsletter%22%2C%22name%22%3A%22Newsletters%22%7D%2C%22chapters%22%3A%7B%22singular_name%22%3A%22Chapter%22%2C%22name%22%3A%22Chapters%22%7D%2C%22rm_content_editor%22%3A%7B%22singular_name%22%3A%22RM%20Content%20Editor%22%2C%22name%22%3A%22RM%20Content%20Editor%22%7D%7D%2C%22webpackPublicPath%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%5C%2Fwp-content%5C%2Fplugins%5C%2Fjetpack-search%5C%2Fjetpack_vendor%5C%2Fautomattic%5C%2Fjetpack-search%5C%2Fbuild%5C%2Finstant-search%5C%2F%22%2C%22isPhotonEnabled%22%3Atrue%2C%22isFreePlan%22%3Afalse%2C%22apiRoot%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%5C%2Fwp-json%5C%2F%22%2C%22apiNonce%22%3A%22dc82507acf%22%2C%22isPrivateSite%22%3Afalse%2C%22isWpcom%22%3Afalse%2C%22hasOverlayWidgets%22%3Atrue%2C%22widgets%22%3A%5B%7B%22filters%22%3A%5B%7B%22name%22%3A%22Post%20Types%22%2C%22type%22%3A%22post_type%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-8%22%2C%22filter_id%22%3A%22post_type_0%22%7D%2C%7B%22name%22%3A%22Topic%20Tags%22%2C%22type%22%3A%22taxonomy%22%2C%22taxonomy%22%3A%22topic-tag%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-8%22%2C%22filter_id%22%3A%22taxonomy_1%22%7D%2C%7B%22name%22%3A%22Gallery%20Tags%22%2C%22type%22%3A%22taxonomy%22%2C%22taxonomy%22%3A%22gallerytags%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-8%22%2C%22filter_id%22%3A%22taxonomy_2%22%7D%2C%7B%22name%22%3A%22Categories%22%2C%22type%22%3A%22taxonomy%22%2C%22taxonomy%22%3A%22category%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-8%22%2C%22filter_id%22%3A%22taxonomy_3%22%7D%2C%7B%22name%22%3A%22Tags%22%2C%22type%22%3A%22taxonomy%22%2C%22taxonomy%22%3A%22post_tag%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-8%22%2C%22filter_id%22%3A%22taxonomy_4%22%7D%2C%7B%22name%22%3A%22Year%22%2C%22type%22%3A%22date_histogram%22%2C%22count%22%3A5%2C%22field%22%3A%22post_date%22%2C%22interval%22%3A%22year%22%2C%22widget_id%22%3A%22jetpack-search-filters-8%22%2C%22filter_id%22%3A%22date_histogram_5%22%7D%5D%2C%22widget_id%22%3A%22jetpack-search-filters-8%22%7D%5D%2C%22widgetsOutsideOverlay%22%3A%5B%5D%2C%22hasNonSearchWidgets%22%3Afalse%2C%22preventTrackingCookiesReset%22%3Afalse%2C%22adminQueryFilter%22%3A%7B%22bool%22%3A%7B%22should%22%3A%5B%7B%22term%22%3A%7B%22post_type%22%3A%22post%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22page%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22newsletters%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22chapters%22%7D%7D%5D%7D%7D%7D"));
/* ]]> */
</script><script  src="https://css-tricks.com/wp-content/plugins/jetpack-search/jetpack_vendor/automattic/jetpack-search/build/instant-search/jp-search.js?minify=false&amp;ver=8a167a23ce854812a0d1" id="jetpack-instant-search-js"></script><script  src="//stats.wp.com/w.js?ver=202527" id="jp-tracks-js"></script><script  src="https://css-tricks.com/wp-content/themes/CSS-Tricks-19/js/min/jquery-3.5.1.min.js" id="jquery-js"></script><script type="text/javascript" id="jetpack-live-comment-markdown-js-extra">
/* <![CDATA[ */
var markdownify = {"ajax_url":"\/wp-admin\/admin-ajax.php","nonce":"f8ae0b2c24"};
/* ]]> */
</script><script  src="https://css-tricks.com/wp-content/plugins/jetpack-markdown-live-preview-comments/js/markdownify.js?ver=1" id="jetpack-live-comment-markdown-js"></script><script  id="jetpack-stats-js-before">
/* <![CDATA[ */
_stq = window._stq || [];
_stq.push([ "view", JSON.parse("{\"v\":\"ext\",\"blog\":\"45537868\",\"post\":\"363766\",\"tz\":\"-6\",\"srv\":\"css-tricks.com\",\"j\":\"1:14.7\"}") ]);
_stq.push([ "clickTrackerInit", "45537868", "363766" ]);
/* ]]> */
</script><script  src="https://stats.wp.com/e-202527.js" id="jetpack-stats-js" defer="defer" data-wp-strategy="defer"></script><script src="https://css-tricks.com/wp-content/themes/CSS-Tricks-19/js/min/global-concat.min.js?cache_bust=1733929303792"></script><script>
    window.addEventListener("load", () => {
        const consent = truste.cma.callApi("getGDPRConsentDecision","css-tricks.com");

        // Google Analytics and Segment are functional
        if (consent.consentDecision.includes(2) || (consent.source === 'implied' && truste.eu.bindMap.behaviorManager !== 'eu')) {
            // Google Analytics
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-68528-29', 'auto');

            if (typeof articleYear !== "undefined") {
                ga('set', 'dimension1', articleYear);
            }
            if (typeof articleAuthor !== "undefined") {
                ga('set', 'dimension2', articleAuthor);
            }
            if (typeof articleType !== "undefined") {
                ga('set', 'dimension3', articleType);
            }

            ga('send', 'pageview');

            // Segment Analytics
            !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="nnmtLrk127wcC9ggBpAutRr4F4x4TMVz";;analytics.SNIPPET_VERSION="4.15.3";
                analytics.load("nnmtLrk127wcC9ggBpAutRr4F4x4TMVz");

                const analyticsProperties = {};
                if (typeof articleID !== "undefined") {
                    analyticsProperties.article_id = articleID;
                }
                if (typeof articleYear !== "undefined") {
                    analyticsProperties.article_year = articleYear;
                }
                if (typeof articleAuthor !== "undefined") {
                    analyticsProperties.article_author = articleAuthor;
                }
                if (typeof articleType !== "undefined") {
                    analyticsProperties.article_type = articleType;
                }

                analytics.page({
                    properties: analyticsProperties
                });
            }}();
        }
    });
</script><script async src="https://static.codepen.io/assets/embed/ei.js"></script><script src="//instant.page/5.1.0" type="module" integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script></body>

  </html>
<!-- Cache served by breeze CACHE (Desktop) - Last modified: Sun, 06 Jul 2025 12:11:44 GMT -->
